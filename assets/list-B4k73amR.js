import{d as v,h as w,o as k,w as a,b as l,a as x,m as d,V as U,k as p,q as y,u,A as $,n as A,e as q,B as F,C as E,c as N,F as O,D as W}from"./index-LxXqDpAZ.js";import{_ as z,s as L}from"./delete-alert-icon-C4WYVWpg.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as C,a as _,b as j,c as I}from"./VCard-CFONWuhp.js";import{V as B}from"./VTextarea-CpFiN0hs.js";import{V as R}from"./VSpacer-_NgxC0fP.js";import{V as T}from"./VDialog-N8-sVz9Z.js";import{V as M,a as g}from"./VRow-jUgFmOIp.js";/* empty css              */const P={__name:"create",emits:["add-to-list"],setup(V,{emit:s}){const o=v({id:"",number:"",text:"",info:""}),i=s,r=v(!1);function m(){o.value.id=crypto.randomUUID(),i("add-to-list",{...o.value}),r.value=!1}function c(){o.value.number="",o.value.text="",o.value.info="",r.value=!1}return(b,t)=>(k(),w(T,{modelValue:u(r),"onUpdate:modelValue":t[6]||(t[6]=e=>A(r)?r.value=e:null),"max-width":"500"},{activator:a(({props:e})=>[l(d,$(e,{title:"新增",color:"success"}),{default:a(()=>[...t[7]||(t[7]=[p("+新增",-1)])]),_:1},16)]),default:a(({isActive:e})=>[l(C,{class:"review-border"},{default:a(()=>[l(_,{class:"d-flex justify-space-between align-center"},{default:a(()=>[t[9]||(t[9]=x("span",{class:"text-blue"},"新增角色",-1)),l(d,{icon:"",variant:"text",onClick:t[0]||(t[0]=n=>c())},{default:a(()=>[l(U,null,{default:a(()=>[...t[8]||(t[8]=[p("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),l(j,null,{default:a(()=>[l(y,{"hide-details":"auto",modelValue:u(o).number,"onUpdate:modelValue":t[1]||(t[1]=n=>u(o).number=n),density:"compact",label:"角色編號","prepend-inner-icon":"mdi-music-accidental-sharp",variant:"solo",required:"",class:"mb-5"},{label:a(()=>[...t[10]||(t[10]=[p(" 角色編號 ",-1)])]),_:1},8,["modelValue"]),l(y,{"hide-details":"auto",modelValue:u(o).text,"onUpdate:modelValue":t[2]||(t[2]=n=>u(o).text=n),density:"compact",label:"角色名稱","prepend-inner-icon":"mdi-account",variant:"solo",required:"",class:"mb-5"},{label:a(()=>[...t[11]||(t[11]=[p(" 角色名稱 ",-1)])]),_:1},8,["modelValue"]),l(B,{modelValue:u(o).info,"onUpdate:modelValue":t[3]||(t[3]=n=>u(o).info=n),label:"描述",density:"compact",variant:"solo",required:"",placeholder:"描述"},null,8,["modelValue"])]),_:1}),l(I,null,{default:a(()=>[l(R),l(d,{text:"取消",variant:"outlined",color:"grey-darken-2",onClick:t[4]||(t[4]=n=>c())}),l(d,{text:"確認",variant:"outlined",color:"primary",onClick:t[5]||(t[5]=n=>m())})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},S=D(P,[["__scopeId","data-v-92e926d3"]]),G={__name:"edit",props:{role:{type:Object,required:!0,default:()=>({id:"",number:"",text:"",info:""})}},emits:["edit-role"],setup(V,{emit:s}){const o=V,i=v({id:"",number:"",text:"",info:""});q(()=>{i.value.id=o.role.id,i.value.number=o.role.number,i.value.text=o.role.text,i.value.info=o.role.info});const r=v(!1),m=s;function c(){m("edit-role",{...i.value}),r.value=!1}function b(){i.value.id=o.role.id,i.value.number=o.role.number,i.value.text=o.role.text,i.value.info=o.role.info,r.value=!1}return(t,e)=>(k(),w(T,{modelValue:u(r),"onUpdate:modelValue":e[6]||(e[6]=n=>A(r)?r.value=n:null),"max-width":"500"},{activator:a(({props:n})=>[l(d,$(n,{title:"編輯",icon:"mdi-pencil",size:"small",variant:"text"}),null,16)]),default:a(({isActive:n})=>[l(C,{class:"review-border"},{default:a(()=>[l(_,{class:"d-flex justify-space-between align-center"},{default:a(()=>[e[8]||(e[8]=x("span",{class:"text-blue"},"編輯角色",-1)),l(d,{icon:"",variant:"text",onClick:e[0]||(e[0]=f=>b())},{default:a(()=>[l(U,null,{default:a(()=>[...e[7]||(e[7]=[p("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),l(j,null,{default:a(()=>[l(y,{"hide-details":"auto",modelValue:u(i).number,"onUpdate:modelValue":e[1]||(e[1]=f=>u(i).number=f),density:"compact",label:"角色編號","prepend-inner-icon":"mdi-music-accidental-sharp",variant:"solo",required:"",class:"mb-5"},{label:a(()=>[...e[9]||(e[9]=[p(" 角色編號 ",-1)])]),_:1},8,["modelValue"]),l(y,{"hide-details":"auto",modelValue:u(i).text,"onUpdate:modelValue":e[2]||(e[2]=f=>u(i).text=f),density:"compact",label:"角色名稱","prepend-inner-icon":"mdi-account",variant:"solo",required:"",class:"mb-5"},{label:a(()=>[...e[10]||(e[10]=[p(" 角色名稱 ",-1)])]),_:1},8,["modelValue"]),l(B,{modelValue:u(i).info,"onUpdate:modelValue":e[3]||(e[3]=f=>u(i).info=f),label:"描述",density:"compact",variant:"solo",required:"",placeholder:"描述"},null,8,["modelValue"])]),_:1}),l(I,null,{default:a(()=>[l(R),l(d,{text:"取消",variant:"outlined",color:"grey-darken-2",onClick:e[4]||(e[4]=f=>b())}),l(d,{text:"確認",variant:"outlined",color:"primary",onClick:e[5]||(e[5]=f=>c())})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},H=D(G,[["__scopeId","data-v-9cf2f8b0"]]),J={__name:"delete",props:{role:{type:Object,required:!0,default:()=>({id:"",number:"",text:"",info:""})}},emits:["delete-role"],setup(V,{emit:s}){const o=V,i=s,r=v({id:"",number:"",text:"",info:""});q(()=>{r.value.id=o.role.id});const m=v(!1);function c(){i("delete-role",o.role.id),m.value=!1}function b(){m.value=!1}return(t,e)=>(k(),w(T,{modelValue:u(m),"onUpdate:modelValue":e[3]||(e[3]=n=>A(m)?m.value=n:null),"max-width":"500"},{activator:a(({props:n})=>[l(d,$(n,{title:"刪除",icon:"mdi-trash-can",size:"small",variant:"text"}),null,16)]),default:a(({isActive:n})=>[l(C,null,{default:a(()=>[l(_,{class:"d-flex justify-space-between align-center"},{default:a(()=>[e[5]||(e[5]=x("span",{class:"text-blue"},null,-1)),l(d,{icon:"",variant:"text",onClick:e[0]||(e[0]=f=>b())},{default:a(()=>[l(U,null,{default:a(()=>[...e[4]||(e[4]=[p("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),l(j,null,{default:a(()=>[...e[6]||(e[6]=[x("div",{class:"delete-info"},[x("img",{src:z,alt:"Delete Alert Icon",class:"delete-alert"}),x("span",null,[p("是否確認"),x("span",{class:"text-red"},"刪除"),p("?")])],-1)])]),_:1}),l(I,{class:"d-flex justify-center mb-5"},{default:a(()=>[l(d,{text:"取消",variant:"outlined",color:"grey-darken-2",onClick:e[1]||(e[1]=f=>b())}),l(R,{style:{flex:"0.25"}}),l(d,{text:"確認",variant:"outlined",color:"primary",onClick:e[2]||(e[2]=f=>c())})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},K=D(J,[["__scopeId","data-v-bfbba117"]]),oe={__name:"list",setup(V){const s=v([]);q(()=>{F.get("api/roles").then(t=>{s.value=t.data[0].children,console.log(s.value),L("roles",s.value,60)})});const o=v(""),i=E(()=>s.value.filter(t=>!o.value||t.number&&t.number.includes(o.value)||t.text&&t.text.includes(o.value)||t.info&&t.info.includes(o.value))),r=v([{title:"角色編號",key:"number"},{title:"角色名稱",key:"text"},{title:"描述",key:"info"},{title:"編輯",key:"edit",sortable:!1},{title:"刪除",key:"delete",sortable:!1}]);function m(t){s.value.push(t)}function c(t){const e=s.value.findIndex(n=>n.id===t.id);e!==-1&&(s.value[e]={...t})}function b(t){s.value=s.value.filter(e=>e.id!==t)}return(t,e)=>(k(),N(O,null,[l(M,{class:"mt-1"},{default:a(()=>[l(g,{cols:"4"},{default:a(()=>[l(y,{label:"搜尋",modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=n=>o.value=n),density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1}),l(g,{cols:"4"}),l(g,{cols:"4",class:"d-flex justify-end"},{default:a(()=>[l(S,{onAddToList:m})]),_:1})]),_:1}),l(C,{class:"rounded-lg elevation-3"},{default:a(()=>[l(W,{headers:r.value,items:i.value,density:"comfortable",class:"cyan-header"},{"item.edit":a(({item:n})=>[l(H,{role:n,onEditRole:c},null,8,["role"])]),"item.delete":a(({item:n})=>[l(K,{role:n,onDeleteRole:b},null,8,["role"])]),_:1},8,["headers","items"])]),_:1})],64))}};export{oe as default};
