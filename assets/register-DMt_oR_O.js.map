{"version":3,"file":"register-DMt_oR_O.js","sources":["../../src/views/signIn/register.vue"],"sourcesContent":["<template>\r\n  <v-form @submit.prevent=\"submit\" v-model=\"valid\" class=\"mx-auto register-form\">\r\n    <h2 class=\"text-center mb-3\">一般帳號註冊</h2>\r\n\r\n    <v-text-field hide-details=\"auto\" v-model=\"form.userName\" density=\"compact\" label=\"帳號/信箱\"\r\n      prepend-inner-icon=\"mdi-account-box-outline\" variant=\"solo\" required class=\"register-item mb-2\">\r\n      <template #label>\r\n        <span class=\"text-danger\">*</span>帳號/員工編號\r\n      </template>\r\n    </v-text-field>\r\n    <v-text-field hide-details=\"auto\" v-model=\"form.name\" density=\"compact\" label=\"姓名\" prepend-inner-icon=\"mdi-account\"\r\n      variant=\"solo\" required :rules=\"[nameRule]\" class=\"register-item mb-2\">\r\n      <template #label>\r\n        <span class=\"text-danger\">*</span>姓名\r\n      </template>\r\n    </v-text-field>\r\n    <v-text-field hide-details=\"auto\" v-model=\"form.email\" density=\"compact\" label=\"帳號/信箱\"\r\n      prepend-inner-icon=\"mdi-email\" variant=\"solo\" required class=\"register-item mb-2\" :rules=\"[emailRule]\">\r\n      <template #label>\r\n        <span class=\"text-danger\">*</span>信箱\r\n      </template>\r\n    </v-text-field>\r\n\r\n    <v-btn type=\"submit\" variant=\"flat\" color=\"primary\" block class=\"mt-5\" :loading=\"loading\">\r\n      寄信驗證\r\n    </v-btn>\r\n\r\n    <div class=\"or\">或</div>\r\n    <router-link to=\"/sign-in\" class=\"text-decoration-none\">回登入</router-link>\r\n  </v-form>\r\n</template>\r\n\r\n<script setup>\r\nimport { authentication } from \"@/requests\";\r\nimport { alertError } from \"@/helpers/functions\";\r\nimport { useReCaptcha } from \"vue-recaptcha-v3\";\r\nimport { emailRule, pwRule, pwConfirmRule, nameRule, phoneRule, unitRule } from \"@/rules\";\r\n\r\nconst router = useRouter();\r\nconst { executeRecaptcha } = useReCaptcha();\r\n\r\nconst loading = ref(false);\r\nconst valid = ref(true);\r\nconst error = ref(\"\");\r\nconst showPw = ref(false);\r\nconst showConfirmPw = ref(false);\r\nconst form = ref({\r\n  email: \"\",\r\n  name: \"\",\r\n  userName: \"\"\r\n});\r\n\r\nconst submit = async () => {\r\n  const rules = [emailRule, nameRule];\r\n  for (const rule of rules) {\r\n    const result = rule(form.value[Object.keys(form.value).find(key => rule === eval(key + 'Rule'))]);\r\n    if (result !== true) {\r\n      alert(\"請確認欄位皆已填寫正確。\");\r\n      return;\r\n    }\r\n  }\r\n  loading.value = true;\r\n  router.push({\r\n    path: '/sign-in/registerStep1', query: {\r\n      email: form.value.email,\r\n      name: form.value.name,\r\n      userName: form.value.userName\r\n    }\r\n  });\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.register-form {\r\n  min-width: 60%;\r\n}\r\n\r\n.register-item {\r\n  border-radius: 10px !important;\r\n  margin-top: 18px;\r\n}\r\n\r\n.register-item .v-field {\r\n  height: 25px;\r\n}\r\n\r\n.register-item .v-input__control {\r\n  box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.5) !important;\r\n  background-color: white;\r\n}\r\n\r\n:global(.right .register-item .v-input__details .v-messages__message) {\r\n  color: lightcoral !important;\r\n}\r\n\r\n:global(.register-item .v-field) {\r\n  border-radius: 10px !important;\r\n}\r\n\r\n:global(.right .register-item .v-input__control *) {\r\n  color: gray !important;\r\n}\r\n\r\n:global(.right .register-item .text-danger) {\r\n  color: red !important;\r\n}\r\n</style>"],"names":["useReCaptcha","_createBlock","_component_v_form","_unref","$event","_cache","_createElementVNode","_createVNode","_component_v_text_field","_component_v_btn","_component_router_link"],"mappings":"2fAsCA,MAAM,OAAS,UAAS,EAClB,CAAE,gBAAgB,EAAKA,0BAAAA,eAEvB,QAAU,IAAI,EAAK,EACnB,MAAQ,IAAI,EAAI,EACR,IAAI,EAAE,EACL,IAAI,EAAK,EACF,IAAI,EAAK,EAC/B,MAAM,KAAO,IAAI,CACf,MAAO,GACP,KAAM,GACN,SAAU,EACZ,CAAC,EAEK,OAAS,SAAY,CACzB,MAAM,MAAQ,CAAC,UAAW,QAAQ,EAClC,UAAW,QAAQ,MAAO,CACxB,MAAM,OAAS,KAAK,KAAK,MAAM,OAAO,KAAK,KAAK,KAAK,EAAE,KAAK,KAAO,OAAS,KAAK,IAAM,MAAM,CAAC,CAAC,CAAC,EAChG,GAAI,SAAW,GAAM,CACnB,MAAM,cAAc,EACpB,MACF,CACF,CACA,QAAQ,MAAQ,GAChB,OAAO,KAAK,CACV,KAAM,yBAA0B,MAAO,CACrC,MAAO,KAAK,MAAM,MAClB,KAAM,KAAK,MAAM,KACjB,SAAU,KAAK,MAAM,QAC3B,CACA,CAAG,CACH,2EApEEC,YA4BSC,MAAA,CA5BA,uBAAgB,OAAM,CAAA,SAAA,CAAA,aAAWC,MAAA,KAAA,oDAAA,MAAK,MAAAC,EAAA,MAAE,MAAM,0CACrD,IAAwC,CAAxCC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,gBAAwC,KAAA,CAApC,MAAM,kBAAkB,EAAC,SAAM,EAAA,GAEnCC,YAKeC,WAAA,CALD,eAAa,OAAgB,WAAAL,MAAA,IAAA,EAAK,SAAL,sBAAAE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAD,GAAAD,MAAA,IAAA,EAAK,SAAQC,GAAE,QAAQ,UAAU,MAAM,QAChF,qBAAmB,0BAA0B,QAAQ,OAAO,SAAA,GAAS,MAAM,uBAChE,cACT,IAAkC,CAAA,GAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAAlCC,gBAAkC,OAAA,CAA5B,MAAM,aAAa,EAAC,IAAC,EAAA,kBAAO,WACpC,EAAA,6BAEFC,YAKeC,WAAA,CALD,eAAa,OAAgB,WAAAL,MAAA,IAAA,EAAK,KAAL,sBAAAE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAD,GAAAD,MAAA,IAAA,EAAK,KAAIC,GAAE,QAAQ,UAAU,MAAM,KAAK,qBAAmB,cACpG,QAAQ,OAAO,SAAA,GAAU,OAAQD,MAAA,QAAA,CAAQ,EAAG,MAAM,uBACvC,cACT,IAAkC,CAAA,GAAAE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAAlCC,gBAAkC,OAAA,CAA5B,MAAM,aAAa,EAAC,IAAC,EAAA,kBAAO,MACpC,EAAA,qCAEFC,YAKeC,WAAA,CALD,eAAa,OAAgB,WAAAL,MAAA,IAAA,EAAK,MAAL,sBAAAE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAD,GAAAD,MAAA,IAAA,EAAK,MAAKC,GAAE,QAAQ,UAAU,MAAM,QAC7E,qBAAmB,YAAY,QAAQ,OAAO,SAAA,GAAS,MAAM,qBAAsB,OAAQD,MAAA,SAAA,CAAS,IACzF,cACT,IAAkC,CAAA,GAAAE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAAlCC,gBAAkC,OAAA,CAA5B,MAAM,aAAa,EAAC,IAAC,EAAA,kBAAO,MACpC,EAAA,qCAGFC,YAEQE,KAAA,CAFD,KAAK,SAAS,QAAQ,OAAO,MAAM,UAAU,MAAA,GAAM,MAAM,OAAQ,QAASN,MAAA,OAAA,oBAAS,IAE1F,CAAA,GAAAE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,iBAF0F,SAE1F,EAAA,0BAEAA,EAAA,EAAA,IAAAA,EAAA,EAAA,EAAAC,gBAAuB,MAAA,CAAlB,MAAM,IAAI,EAAC,IAAC,EAAA,GACjBC,YAAyEG,EAAA,CAA5D,GAAG,WAAW,MAAM,yCAAuB,IAAG,CAAA,GAAAL,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,iBAAH,MAAG,EAAA"}