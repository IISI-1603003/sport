import{R as ReCaptchaVuePluginExports,f as ref,j as createBlock,w as withCtx,n as isRef,u as unref,k as withModifiers,p as useRouter,r as resolveComponent,o as openBlock,d as createBaseVNode,e as createVNode,m as createTextVNode,t as toDisplayString}from"./index-DpGNt5hz.js";import{e as emailRule,p as pwRule,a as pwConfirmRule,n as nameRule,b as phoneRule,u as unitRule}from"./rules-CItqinxz.js";import{_ as _export_sfc}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as VForm}from"./VForm-jVRfAgTw.js";import{V as VTextField}from"./VTextField-4xziC6WH.js";import{V as VIcon}from"./index-309Juuoi.js";import{V as VSelect}from"./VSelect--AdMTAnE.js";import{V as VBtn}from"./VBtn-BZiUtPCt.js";import"./forwardRefs-C-p-xPEC.js";import"./index-9b9l0r-k.js";import"./VList-9JfJBPQA.js";import"./VAvatar-CQ5nYGH2.js";import"./VOverlay-Dvz7xzcU.js";import"./scopeId-7Q84Te7R.js";const _sfc_main={__name:"register",setup(__props){const router=useRouter(),{executeRecaptcha}=ReCaptchaVuePluginExports.useReCaptcha(),loading=ref(!1),valid=ref(!0);ref("");const showPw=ref(!1),showConfirmPw=ref(!1),units=ref(["運動科學中心","健康促進與運動","廠商-資拓","體育器材研發","運動營養學","運動心理學","體適能測試","運動生物力學","運動傷害預防","運動恢復技術","健身房經營管理","團隊運動訓練","個人健身教練培訓","社區運動活動","運動科技創新"]),form=ref({email:"",pw:"",pwConfirm:"",name:"",unit:"",phone:"",reason:""});function letPwVisible(){showPw.value=!showPw.value}function letConfirmPwVisible(){showConfirmPw.value=!showConfirmPw.value}const submit=async()=>{const rules=[emailRule,pwRule,nameRule,phoneRule,unitRule];for(const rule of rules){const result=rule(form.value[Object.keys(form.value).find(key=>rule===eval(key+"Rule"))]);if(result!==!0){alert("請確認欄位皆已填寫正確。");return}}const pwConfirmResult=pwConfirmRule(form.value.pw,form.value.pwConfirm);if(pwConfirmResult!==!0){alert("請確認欄位皆已填寫正確。");return}loading.value=!0,router.push("/sign-in/registerSuccess")};return(o,e)=>{const r=resolveComponent("router-link");return openBlock(),createBlock(VForm,{onSubmit:withModifiers(submit,["prevent"]),modelValue:unref(valid),"onUpdate:modelValue":e[7]||(e[7]=t=>isRef(valid)?valid.value=t:null),class:"mx-auto register-form"},{default:withCtx(()=>[e[17]||(e[17]=createBaseVNode("h2",{class:"text-center mb-3"},"一般帳號註冊",-1)),createVNode(VTextField,{"hide-details":"auto",modelValue:unref(form).email,"onUpdate:modelValue":e[0]||(e[0]=t=>unref(form).email=t),density:"compact",label:"帳號/信箱","prepend-inner-icon":"mdi-email",variant:"solo",required:"",class:"register-item mb-2",rules:[unref(emailRule)]},{label:withCtx(()=>[...e[8]||(e[8]=[createBaseVNode("span",{class:"text-danger"},"*",-1),createTextVNode("帳號/信箱 ",-1)])]),_:1},8,["modelValue","rules"]),createVNode(VTextField,{"hide-details":"auto",modelValue:unref(form).pw,"onUpdate:modelValue":e[1]||(e[1]=t=>unref(form).pw=t),type:unref(showPw)?"text":"password",density:"compact",label:"密碼","prepend-inner-icon":"mdi-lock",variant:"solo",required:"",class:"register-item mb-2",rules:[unref(pwRule)]},{label:withCtx(()=>[...e[9]||(e[9]=[createBaseVNode("span",{class:"text-danger"},"*",-1),createTextVNode("密碼 ",-1)])]),"append-inner":withCtx(()=>[createVNode(VIcon,{onClick:letPwVisible,class:"cursor-pointer"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(showPw)?"mdi-eye":"mdi-eye-off"),1)]),_:1})]),_:1},8,["modelValue","type","rules"]),createVNode(VTextField,{"hide-details":"auto",modelValue:unref(form).pwConfirm,"onUpdate:modelValue":e[2]||(e[2]=t=>unref(form).pwConfirm=t),type:unref(showConfirmPw)?"text":"password",density:"compact",label:"確認密碼","prepend-inner-icon":"mdi-lock-check",variant:"solo",required:"",rules:[t=>unref(pwConfirmRule)(unref(form).pw,t)],class:"register-item mb-2"},{label:withCtx(()=>[...e[10]||(e[10]=[createBaseVNode("span",{class:"text-danger"},"*",-1),createTextVNode("確認密碼 ",-1)])]),"append-inner":withCtx(()=>[createVNode(VIcon,{onClick:letConfirmPwVisible,class:"cursor-pointer"},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(showConfirmPw)?"mdi-eye":"mdi-eye-off"),1)]),_:1})]),_:1},8,["modelValue","type","rules"]),createVNode(VTextField,{"hide-details":"auto",modelValue:unref(form).name,"onUpdate:modelValue":e[3]||(e[3]=t=>unref(form).name=t),density:"compact",label:"姓名","prepend-inner-icon":"mdi-account",variant:"solo",required:"",rules:[unref(nameRule)],class:"register-item mb-2"},{label:withCtx(()=>[...e[11]||(e[11]=[createBaseVNode("span",{class:"text-danger"},"*",-1),createTextVNode("姓名 ",-1)])]),_:1},8,["modelValue","rules"]),createVNode(VTextField,{"hide-details":"auto",modelValue:unref(form).phone,"onUpdate:modelValue":e[4]||(e[4]=t=>unref(form).phone=t),density:"compact",label:"電話","prepend-inner-icon":"mdi-phone",variant:"solo",required:"",rules:[unref(phoneRule)],class:"register-item mb-2"},{label:withCtx(()=>[...e[12]||(e[12]=[createBaseVNode("span",{class:"text-danger"},"*",-1),createTextVNode("電話 ",-1)])]),_:1},8,["modelValue","rules"]),createVNode(VSelect,{"hide-details":"auto",modelValue:unref(form).unit,"onUpdate:modelValue":e[5]||(e[5]=t=>unref(form).unit=t),density:"compact",label:"單位","prepend-inner-icon":"mdi-domain",variant:"solo",required:"",rules:[unref(unitRule)],class:"register-item mb-2",items:unref(units)},{label:withCtx(()=>[...e[13]||(e[13]=[createBaseVNode("span",{class:"text-danger"},"*",-1),createTextVNode("單位 ",-1)])]),_:1},8,["modelValue","rules","items"]),createVNode(VTextField,{"hide-details":"auto",modelValue:unref(form).reason,"onUpdate:modelValue":e[6]||(e[6]=t=>unref(form).reason=t),density:"compact",label:"申請原因","prepend-inner-icon":"mdi-information",variant:"solo",required:"",class:"register-item mb-2"},{label:withCtx(()=>[...e[14]||(e[14]=[createTextVNode(" 申請原因 ",-1)])]),_:1},8,["modelValue"]),createVNode(VBtn,{type:"submit",variant:"flat",color:"primary",block:"",class:"mt-5",loading:unref(loading)},{default:withCtx(()=>[...e[15]||(e[15]=[createTextVNode(" 註冊 ",-1)])]),_:1},8,["loading"]),e[18]||(e[18]=createBaseVNode("div",{class:"or"},"或",-1)),createVNode(r,{to:"/sign-in",class:"text-decoration-none"},{default:withCtx(()=>[...e[16]||(e[16]=[createTextVNode("返回登入",-1)])]),_:1})]),_:1},8,["modelValue"])}}},register=_export_sfc(_sfc_main,[["__scopeId","data-v-939ead4a"]]);export{register as default};
