import{R as F,d as n,e as U,p as _,h as E,w as l,n as I,u as a,i as L,r as M,o as v,a as m,c as x,b as u,F as T,s as D,k as o,t as f,q as V,V as C,m as $}from"./index-LxXqDpAZ.js";import{p as k,a as N,n as j,e as z,u as A}from"./rules-CFhREnqB.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as H}from"./VForm-miy7jIfj.js";const J={class:"label-item"},K={class:"label-item"},O={__name:"registerStep2",setup(Q){const g=_(),{executeRecaptcha:W}=F.useReCaptcha(),w=n(!1),c=n(!0);n("");const d=n(!1),p=n(!1);n(["運動科學中心","健康促進與運動","廠商-資拓","體育器材研發","運動營養學","運動心理學","體適能測試","運動生物力學","運動傷害預防","運動恢復技術","健身房經營管理","團隊運動訓練","個人健身教練培訓","社區運動活動","運動科技創新"]);const t=n({userNumber:"",name:"",email:"",gender:"",unit:"",reason:"",pw:"",pwConfirm:""}),i=n({userNumber:"",name:"",gender:"",email:"",unit:""}),R={userNumber:"帳號/員工編號",name:"姓名",gender:"性別",email:"信箱",unit:"單位"};U(()=>{const r=g.currentRoute.value.query;i.value.userNumber=r.userNumber||"",i.value.name=r.name||"",i.value.gender="男",i.value.email=r.email||"",i.value.unit="運動中心",t.value.userNumber=r.userNumber||"",t.value.name=r.name||"",t.value.email=r.email||"",t.value.unit="運動中心",t.value.gender="男"});const q=r=>R[r]||r;function B(){d.value=!d.value}function P(){p.value=!p.value}const S=async()=>{const r={pw:k,pwConfirm:e=>N(t.value.pw,e),userNumber:A,email:z,name:j};for(const e in r){const b=r[e];if(t.value[e]!==void 0){const s=b(t.value[e]);if(s!==!0){alert(`請確${s}認欄位皆已填寫正確。`);return}}}w.value=!0,g.push({path:"/sign-in/registerSuccess",query:{}})};return(r,e)=>{const b=M("router-link");return v(),E(H,{onSubmit:L(S,["prevent"]),modelValue:a(c),"onUpdate:modelValue":e[3]||(e[3]=s=>I(c)?c.value=s:null),class:"mx-auto register-form"},{default:l(()=>[e[10]||(e[10]=m("h2",{class:"text-center mb-3"},"一般帳號註冊",-1)),(v(!0),x(T,null,D(a(i),(s,y)=>(v(),x("div",{key:y,class:"label-container text-start mt-3"},[m("span",J,f(q(y)),1),e[4]||(e[4]=o()),m("span",K,f(s),1)]))),128)),u(V,{"hide-details":"auto",modelValue:a(t).reason,"onUpdate:modelValue":e[0]||(e[0]=s=>a(t).reason=s),density:"compact",label:"申請原因","prepend-inner-icon":"mdi-information",variant:"solo",required:"",class:"register-item mb-2"},{label:l(()=>[...e[5]||(e[5]=[o(" 申請原因 ",-1)])]),_:1},8,["modelValue"]),u(V,{"hide-details":"auto",modelValue:a(t).pw,"onUpdate:modelValue":e[1]||(e[1]=s=>a(t).pw=s),type:a(d)?"text":"password",density:"compact",label:"密碼","prepend-inner-icon":"mdi-lock",variant:"solo",required:"",class:"register-item mb-2",rules:[a(k)]},{label:l(()=>[...e[6]||(e[6]=[m("span",{class:"text-danger"},"*",-1),o("密碼 ",-1)])]),"append-inner":l(()=>[u(C,{onClick:B,class:"cursor-pointer"},{default:l(()=>[o(f(a(d)?"mdi-eye":"mdi-eye-off"),1)]),_:1})]),_:1},8,["modelValue","type","rules"]),u(V,{"hide-details":"auto",modelValue:a(t).pwConfirm,"onUpdate:modelValue":e[2]||(e[2]=s=>a(t).pwConfirm=s),type:a(p)?"text":"password",density:"compact",label:"確認密碼","prepend-inner-icon":"mdi-lock-check",variant:"solo",required:"",rules:[s=>a(N)(a(t).pw,s)],class:"register-item mb-2"},{label:l(()=>[...e[7]||(e[7]=[m("span",{class:"text-danger"},"*",-1),o("確認密碼 ",-1)])]),"append-inner":l(()=>[u(C,{onClick:P,class:"cursor-pointer"},{default:l(()=>[o(f(a(p)?"mdi-eye":"mdi-eye-off"),1)]),_:1})]),_:1},8,["modelValue","type","rules"]),u($,{type:"submit",variant:"flat",color:"primary",block:"",class:"mt-5",loading:a(w)},{default:l(()=>[...e[8]||(e[8]=[o(" 註冊 ",-1)])]),_:1},8,["loading"]),e[11]||(e[11]=m("div",{class:"or"},"或",-1)),u(b,{to:"/sign-in",class:"text-decoration-none"},{default:l(()=>[...e[9]||(e[9]=[o("回登入",-1)])]),_:1})]),_:1},8,["modelValue"])}}},ee=G(O,[["__scopeId","data-v-62b6ba23"]]);export{ee as default};
