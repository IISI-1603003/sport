import{K as F,M,P as m,Q as P,f as g,E as W,C as D,A as S,z as b,aS as _}from"./index-YoOYIYhl.js";const w=Symbol.for("vuetify:form"),B=F({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function E(i){const n=M(i,"modelValue"),l=m(()=>i.disabled),c=m(()=>i.readonly),o=P(!1),e=g([]),t=g([]);async function s(){const r=[];let a=!0;t.value=[],o.value=!0;for(const f of e.value){const u=await f.validate();if(u.length>0&&(a=!1,r.push({id:f.id,errorMessages:u})),!a&&i.fastFail)break}return t.value=r,o.value=!1,{valid:a,errors:t.value}}function d(){e.value.forEach(r=>r.reset())}function v(){e.value.forEach(r=>r.resetValidation())}return W(e,()=>{let r=0,a=0;const f=[];for(const u of e.value)u.isValid===!1?(a++,f.push({id:u.id,errorMessages:u.errorMessages})):u.isValid===!0&&r++;t.value=f,n.value=a>0?!1:r===e.value.length?!0:null},{deep:!0,flush:"post"}),D(w,{register:r=>{let{id:a,vm:f,validate:u,reset:h,resetValidation:V}=r;e.value.some(O=>O.id===a),e.value.push({id:a,validate:u,reset:h,resetValidation:V,vm:_(f),isValid:null,errorMessages:[]})},unregister:r=>{e.value=e.value.filter(a=>a.id!==r)},update:(r,a,f)=>{const u=e.value.find(h=>h.id===r);u&&(u.isValid=a,u.errorMessages=f)},isDisabled:l,isReadonly:c,isValidating:o,isValid:n,items:e,validateOn:m(()=>i.validateOn)}),{errors:t,isDisabled:l,isReadonly:c,isValidating:o,isValid:n,items:e,validate:s,reset:d,resetValidation:v}}function $(i){const n=S(w,null);return{...n,isReadonly:b(()=>!!(i?.readonly??n?.isReadonly.value)),isDisabled:b(()=>!!(i?.disabled??n?.isDisabled.value))}}const p=Symbol("Forwarded refs");function R(i,n){let l=i;for(;l;){const c=Reflect.getOwnPropertyDescriptor(l,n);if(c)return c;l=Object.getPrototypeOf(l)}}function j(i){for(var n=arguments.length,l=new Array(n>1?n-1:0),c=1;c<n;c++)l[c-1]=arguments[c];return i[p]=l,new Proxy(i,{get(o,e){if(Reflect.has(o,e))return Reflect.get(o,e);if(!(typeof e=="symbol"||e.startsWith("$")||e.startsWith("__"))){for(const t of l)if(t.value&&Reflect.has(t.value,e)){const s=Reflect.get(t.value,e);return typeof s=="function"?s.bind(t.value):s}}},has(o,e){if(Reflect.has(o,e))return!0;if(typeof e=="symbol"||e.startsWith("$")||e.startsWith("__"))return!1;for(const t of l)if(t.value&&Reflect.has(t.value,e))return!0;return!1},set(o,e,t){if(Reflect.has(o,e))return Reflect.set(o,e,t);if(typeof e=="symbol"||e.startsWith("$")||e.startsWith("__"))return!1;for(const s of l)if(s.value&&Reflect.has(s.value,e))return Reflect.set(s.value,e,t);return!1},getOwnPropertyDescriptor(o,e){const t=Reflect.getOwnPropertyDescriptor(o,e);if(t)return t;if(!(typeof e=="symbol"||e.startsWith("$")||e.startsWith("__"))){for(const s of l){if(!s.value)continue;const d=R(s.value,e)??("_"in s.value?R(s.value._?.setupState,e):void 0);if(d)return d}for(const s of l){const d=s.value&&s.value[p];if(!d)continue;const v=d.slice();for(;v.length;){const r=v.shift(),a=R(r.value,e);if(a)return a;const f=r.value&&r.value[p];f&&v.push(...f)}}}}})}export{E as c,j as f,B as m,$ as u};
