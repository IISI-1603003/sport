import{R,f as t,h as C,s as S,j as q,w as r,q as w,u as n,k as B,r as _,o as p,d as l,b as v,e as i,F,x as E,m,y as g,t as L,p as V}from"./index-Bs6z08K-.js";import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as T}from"./VForm-BFHHaKJd.js";const U={class:"label-item"},j={class:"label-item"},z={__name:"registerStep1",setup(D){const c=S(),{executeRecaptcha:I}=R.useReCaptcha(),b=t(!1),d=t(!0);t(""),t(!1),t(!1);const s=t({userNumber:"",name:"",email:"",code:""}),u=t({userNumber:"",name:"",email:""}),x={userNumber:"帳號/員工編號",name:"姓名",email:"信箱"};C(()=>{const a=c.currentRoute.value.query;u.value.userNumber=a.userNumber||"",u.value.name=a.name||"",u.value.email=a.email||"",s.value.userNumber=a.userNumber||"",s.value.name=a.name||"",s.value.email=a.email||""});const N=a=>x[a]||a,k=async()=>{b.value=!0,c.push({path:"/sign-in/registerStep2",query:{email:s.value.email,name:s.value.name,userNumber:s.value.userNumber}})};return(a,e)=>{const y=_("router-link");return p(),q(T,{onSubmit:B(k,["prevent"]),modelValue:n(d),"onUpdate:modelValue":e[1]||(e[1]=o=>w(d)?d.value=o:null),class:"mx-auto register-form"},{default:r(()=>[e[7]||(e[7]=l("h2",{class:"text-center mb-3"},"一般帳號註冊",-1)),(p(!0),v(F,null,E(n(u),(o,f)=>(p(),v("div",{key:f,class:"label-container text-start mt-3"},[l("span",U,g(N(f)),1),e[2]||(e[2]=m()),l("span",j,g(o),1)]))),128)),i(L,{"hide-details":"auto",modelValue:n(s).code,"onUpdate:modelValue":e[0]||(e[0]=o=>n(s).code=o),density:"compact",label:"驗證碼","prepend-inner-icon":"mdi-lock-check",variant:"solo",required:"",rules:[a.codeRule],class:"register-item mb-2"},{label:r(()=>[...e[3]||(e[3]=[l("span",{class:"text-danger"},"*",-1),m("驗證碼 ",-1)])]),"append-inner":r(()=>[i(V,{onClick:a.reSend,variant:"tonal",color:"success",size:"small"},{default:r(()=>[...e[4]||(e[4]=[l("p",{style:{"white-space":"nowrap"}},"20秒 重新發送",-1)])]),_:1},8,["onClick"])]),_:1},8,["modelValue","rules"]),i(V,{type:"submit",variant:"flat",color:"primary",block:"",class:"mt-5",loading:n(b)},{default:r(()=>[...e[5]||(e[5]=[m(" 驗證 ",-1)])]),_:1},8,["loading"]),e[8]||(e[8]=l("div",{class:"or"},"或",-1)),i(y,{to:"/sign-in",class:"text-decoration-none"},{default:r(()=>[...e[6]||(e[6]=[m("回登入",-1)])]),_:1})]),_:1},8,["modelValue"])}}},H=M(z,[["__scopeId","data-v-710398a0"]]);export{H as default};
