import{R as c,f as p,h as k,w as n,i as w,r as y,o as b,d as e,e as o,j as m,k as a,u as r,v as f,l as B}from"./index-BVy7tu53.js";import{a as C}from"./auth-Bi2VfbpA.js";import{a as I}from"./functions-D4rvsJVY.js";import{V as R}from"./VForm-J3omcKM9.js";import{V as g}from"./index-k560OLQT.js";import{V as N}from"./forwardRefs-D6b4rnWh.js";import"./form-CiRZwRkA.js";const q={class:"d-flex align-center ga-3"},E={class:"d-flex align-center ga-3"},_={__name:"index",setup(M){const{signIn:x}=C(),{executeRecaptcha:v}=c.useReCaptcha(),i=p(!1),s=p({username:"iisi-admin",p:""}),V=async()=>{if(i.value)return;i.value=!0;const u=await v("signIn");B.signIn(s.value,{headers:{token:u}}).then(t=>{x(t.data)}).catch(I).finally(()=>{i.value=!1})};return(u,t)=>{const d=y("router-link");return b(),k(R,{onSubmit:w(V,["prevent"])},{default:n(()=>[t[7]||(t[7]=e("h2",{class:"text-center"},"登入",-1)),e("div",q,[o(g,null,{default:n(()=>[...t[2]||(t[2]=[a("mdi-account",-1)])]),_:1}),m(e("input",{type:"text",class:"input",required:"","onUpdate:modelValue":t[0]||(t[0]=l=>r(s).username=l)},null,512),[[f,r(s).username]])]),e("div",E,[o(g,null,{default:n(()=>[...t[3]||(t[3]=[a("mdi-lock",-1)])]),_:1}),m(e("input",{type:"password",class:"input",required:"","onUpdate:modelValue":t[1]||(t[1]=l=>r(s).p=l)},null,512),[[f,r(s).p]])]),o(d,{to:"/sign-in/forget",class:"float-right text-decoration-none"},{default:n(()=>[...t[4]||(t[4]=[a(" 忘記密碼 ",-1)])]),_:1}),t[8]||(t[8]=e("br",null,null,-1)),o(N,{type:"submit",variant:"flat",color:"primary",block:"",class:"mt-5",loading:r(i)},{default:n(()=>[...t[5]||(t[5]=[a(" 登入 ",-1)])]),_:1},8,["loading"]),t[9]||(t[9]=e("div",{class:"or"},"或",-1)),o(d,{to:"/sign-in/register",class:"text-decoration-none"},{default:n(()=>[...t[6]||(t[6]=[a(" 註冊會員 ",-1)])]),_:1})]),_:1})}}};export{_ as default};
