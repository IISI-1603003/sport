import{f as v,j as g,o as y,w as a,e as t,d as x,n as r,V as w,m as p,s as C,u as d,D as $,p as j,h as A,a as E,E as N,b as O,F as R,G as W}from"./index-DsLPX3BI.js";import{_ as z,s as G}from"./delete-alert-icon-C4WYVWpg.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as k,a as _,b as q,c as I}from"./VCard-CL4EWFtp.js";import{V as F}from"./VTextarea-DHxxKqJA.js";import{V as T}from"./VSpacer-C1XAD_mX.js";import{V as B}from"./VDialog-nugxKd2C.js";import{V as L,a as U}from"./VRow-NzVItThu.js";/* empty css              */const M={__name:"create",emits:["add-to-list"],setup(b,{emit:u}){const n=v({id:"",unitCode:"",name:"",info:""}),o=u,s=v(!1);function m(){n.value.id=crypto.randomUUID(),o("add-to-list",{...n.value}),s.value=!1}function c(){n.value.unitCode="",n.value.name="",n.value.info="",s.value=!1}return(V,l)=>(y(),g(B,{modelValue:d(s),"onUpdate:modelValue":l[6]||(l[6]=e=>j(s)?s.value=e:null),"max-width":"500"},{activator:a(({props:e})=>[t(r,$(e,{title:"新增",color:"success"}),{default:a(()=>[...l[7]||(l[7]=[p("+新增",-1)])]),_:1},16)]),default:a(({isActive:e})=>[t(k,{class:"review-border"},{default:a(()=>[t(_,{class:"d-flex justify-space-between align-center"},{default:a(()=>[l[9]||(l[9]=x("span",{class:"text-blue"},"新增單位",-1)),t(r,{icon:"",variant:"text",onClick:l[0]||(l[0]=i=>c())},{default:a(()=>[t(w,null,{default:a(()=>[...l[8]||(l[8]=[p("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),t(q,null,{default:a(()=>[t(C,{"hide-details":"auto",modelValue:d(n).unitCode,"onUpdate:modelValue":l[1]||(l[1]=i=>d(n).unitCode=i),density:"compact",label:"角色編號","prepend-inner-icon":"mdi-music-accidental-sharp",variant:"solo",required:"",class:"mb-5"},{label:a(()=>[...l[10]||(l[10]=[p(" 單位編號 ",-1)])]),_:1},8,["modelValue"]),t(C,{"hide-details":"auto",modelValue:d(n).name,"onUpdate:modelValue":l[2]||(l[2]=i=>d(n).name=i),density:"compact",label:"角色名稱","prepend-inner-icon":"mdi-account",variant:"solo",required:"",class:"mb-5"},{label:a(()=>[...l[11]||(l[11]=[p(" 單位名稱 ",-1)])]),_:1},8,["modelValue"]),t(F,{modelValue:d(n).info,"onUpdate:modelValue":l[3]||(l[3]=i=>d(n).info=i),label:"描述",density:"compact",variant:"solo",required:"",placeholder:"描述"},null,8,["modelValue"])]),_:1}),t(I,null,{default:a(()=>[t(T),t(r,{text:"取消",variant:"outlined",color:"grey-darken-2",onClick:l[4]||(l[4]=i=>c())}),t(r,{text:"確認",variant:"outlined",color:"primary",onClick:l[5]||(l[5]=i=>m())})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},P=D(M,[["__scopeId","data-v-60a51ef1"]]),S={__name:"edit",props:{unit:{type:Object,required:!0,default:()=>({id:"",unitCode:"",name:"",info:""})}},emits:["edit-unit"],setup(b,{emit:u}){const n=b,o=v({id:"",unitCode:"",name:"",info:""});A(()=>{o.value.id=n.unit.id,o.value.unitCode=n.unit.unitCode,o.value.name=n.unit.name,o.value.info=n.unit.info});const s=v(!1),m=u;function c(){m("edit-unit",{...o.value}),s.value=!1}function V(){o.value.id=n.unit.id,o.value.unitCode=n.unit.unitCode,o.value.name=n.unit.name,o.value.info=n.unit.info,s.value=!1}return(l,e)=>(y(),g(B,{modelValue:d(s),"onUpdate:modelValue":e[6]||(e[6]=i=>j(s)?s.value=i:null),"max-width":"500"},{activator:a(({props:i})=>[t(r,$(i,{title:"編輯",icon:"mdi-pencil",size:"small",variant:"text"}),null,16)]),default:a(({isActive:i})=>[t(k,{class:"review-border"},{default:a(()=>[t(_,{class:"d-flex justify-space-between align-center"},{default:a(()=>[e[8]||(e[8]=x("span",{class:"text-blue"},"編輯單位",-1)),t(r,{icon:"",variant:"text",onClick:e[0]||(e[0]=f=>V())},{default:a(()=>[t(w,null,{default:a(()=>[...e[7]||(e[7]=[p("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),t(q,null,{default:a(()=>[t(C,{"hide-details":"auto",modelValue:d(o).unitCode,"onUpdate:modelValue":e[1]||(e[1]=f=>d(o).unitCode=f),density:"compact",label:"角色編號","prepend-inner-icon":"mdi-music-accidental-sharp",variant:"solo",required:"",class:"mb-5"},{label:a(()=>[...e[9]||(e[9]=[p(" 單位編號 ",-1)])]),_:1},8,["modelValue"]),t(C,{"hide-details":"auto",modelValue:d(o).name,"onUpdate:modelValue":e[2]||(e[2]=f=>d(o).name=f),density:"compact",label:"角色名稱","prepend-inner-icon":"mdi-account",variant:"solo",required:"",class:"mb-5"},{label:a(()=>[...e[10]||(e[10]=[p(" 單位名稱 ",-1)])]),_:1},8,["modelValue"]),t(F,{modelValue:d(o).info,"onUpdate:modelValue":e[3]||(e[3]=f=>d(o).info=f),label:"描述",density:"compact",variant:"solo",required:"",placeholder:"描述"},null,8,["modelValue"])]),_:1}),t(I,null,{default:a(()=>[t(T),t(r,{text:"取消",variant:"outlined",color:"grey-darken-2",onClick:e[4]||(e[4]=f=>V())}),t(r,{text:"確認",variant:"outlined",color:"primary",onClick:e[5]||(e[5]=f=>c())})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},H=D(S,[["__scopeId","data-v-afbe70a4"]]),J={__name:"delete",props:{unit:{type:Object,required:!0,default:()=>({id:"",unitCode:"",name:"",info:""})}},emits:["delete-unit"],setup(b,{emit:u}){const n=b,o=u,s=v({id:"",unitCode:"",name:"",info:""});A(()=>{s.value.id=n.unit.id});const m=v(!1);function c(){o("delete-unit",n.unit.id),m.value=!1}function V(){m.value=!1}return(l,e)=>(y(),g(B,{modelValue:d(m),"onUpdate:modelValue":e[3]||(e[3]=i=>j(m)?m.value=i:null),"max-width":"500"},{activator:a(({props:i})=>[t(r,$(i,{title:"刪除",icon:"mdi-trash-can",size:"small",variant:"text"}),null,16)]),default:a(({isActive:i})=>[t(k,null,{default:a(()=>[t(_,{class:"d-flex justify-space-between align-center"},{default:a(()=>[e[5]||(e[5]=x("span",{class:"text-blue"},null,-1)),t(r,{icon:"",variant:"text",onClick:e[0]||(e[0]=f=>V())},{default:a(()=>[t(w,null,{default:a(()=>[...e[4]||(e[4]=[p("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),t(q,null,{default:a(()=>[...e[6]||(e[6]=[x("div",{class:"delete-info"},[x("img",{src:z,alt:"Delete Alert Icon",class:"delete-alert"}),x("span",null,[p("是否確認"),x("span",{class:"text-red"},"刪除"),p("?")])],-1)])]),_:1}),t(I,{class:"d-flex justify-center mb-5"},{default:a(()=>[t(r,{text:"取消",variant:"outlined",color:"grey-darken-2",onClick:e[1]||(e[1]=f=>V())}),t(T,{style:{flex:"0.25"}}),t(r,{text:"確認",variant:"outlined",color:"primary",onClick:e[2]||(e[2]=f=>c())})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},K=D(J,[["__scopeId","data-v-a4402e1e"]]),ne={__name:"list",setup(b){const u=v([]);A(()=>{E.get("api/unit").then(l=>{u.value=l.data,console.log(u.value),G("unit",u.value,60)})});const n=v(""),o=N(()=>u.value.filter(l=>!n.value||l.unitCode&&l.unitCode.includes(n.value)||l.name&&l.name.includes(n.value)||l.info&&l.info.includes(n.value))),s=v([{title:"單位編號",key:"unitCode"},{title:"單位名稱",key:"name"},{title:"描述",key:"info"},{title:"編輯",key:"edit",sortable:!1},{title:"刪除",key:"delete",sortable:!1}]);function m(l){u.value.push(l)}function c(l){const e=u.value.findIndex(i=>i.id===l.id);e!==-1&&(u.value[e]={...l})}function V(l){u.value=u.value.filter(e=>e.id!==l)}return(l,e)=>(y(),O(R,null,[t(L,{class:"mt-1"},{default:a(()=>[t(U,{cols:"4"},{default:a(()=>[t(C,{label:"搜尋",modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=i=>n.value=i),density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1}),t(U,{cols:"4"}),t(U,{cols:"4",class:"d-flex justify-end"},{default:a(()=>[t(P,{onAddToList:m})]),_:1})]),_:1}),t(k,{class:"rounded-lg elevation-3"},{default:a(()=>[t(W,{headers:s.value,items:o.value,density:"comfortable",class:"cyan-header"},{"item.edit":a(({item:i})=>[t(H,{unit:i,onEditUnit:c},null,8,["unit"])]),"item.delete":a(({item:i})=>[t(K,{unit:i,onDeleteUnit:V},null,8,["unit"])]),_:1},8,["headers","items"])]),_:1})],64))}};export{ne as default};
