import{i as ae,L as Fe,S as At}from"./index-DKBZRZ2s.js";import{_ as he}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{b as q,V as z,a as _t}from"./VCard-C-INQUGl.js";import{V as ie}from"./VContainer-BP61b8tp.js";import{V as J,a as N}from"./VRow-DKkTyhtn.js";import{G as V,j as E,o as L,w as i,e as l,b4 as Tt,az as Mt,as as Te,at as oe,au as re,m as _,z as H,S as Y,T as O,a7 as De,Y as R,d as x,p as T,ap as le,af as U,b2 as we,b5 as Ce,b6 as Ye,aK as Re,ay as ue,b7 as It,b8 as ge,U as F,a8 as xe,f as w,ab as ee,aa as W,M as be,a1 as K,b9 as Bt,ba as nt,am as st,E as I,ak as He,bb as Ot,l as $e,aL as Yt,aM as ot,bc as Rt,aP as $t,aQ as Lt,aR as Wt,aS as jt,aT as Et,aW as rt,aX as Le,aY as zt,aZ as Nt,a_ as Ft,a$ as Ht,b0 as Ut,ax as We,bd as Xt,be as it,bf as Gt,F as Ve,aE as ut,X as Jt,aJ as Ue,a0 as dt,aG as qt,h as ne,V as Ie,bg as Me,t as Xe,an as Se,b as ct,a4 as vt,bh as te,u as B,D as Be,aU as Kt,bi as Qt,bj as Zt,bk as ea,bl as ft,bm as ta,bn as aa,L as la,J as mt,bo as na,bp as sa,bq as oa,br as ra,bs as ia,P as ua,a5 as da,aO as ca,bt as va,bu as Ge,b1 as fa,bv as ma,bw as ya,bx as ha,by as ga,y as ba,n as pe,q as ka}from"./index-qQnhZZMI.js";import{V as yt}from"./VSpacer-JBatbr6N.js";import"./VSnackbar-DiUD_KxE.js";import"./layout-LprzMCE7.js";/* empty css              */const pa={__name:"personal",props:{user:{type:Object,required:!0,default:()=>({avatar:"https://via.placeholder.com/10",name:"王小明",gender:"男",team:"紅隊",birthday:"1990-01-01",height:175,weight:70})}},setup(e){const n=e,r=V(()=>{const a=new Date(n.user.birthday),t=new Date;let c=t.getFullYear()-a.getFullYear();const s=t.getMonth()-a.getMonth();return(s<0||s===0&&t.getDate()<a.getDate())&&c--,c});return(a,t)=>(L(),E(z,{class:"id-card",outlined:""},{default:i(()=>[l(q,{class:"pa-0"},{default:i(()=>[l(ie,{fluid:"",class:"pa-0"},{default:i(()=>[l(J,{dense:"","no-gutters":""},{default:i(()=>[l(N,{cols:"3",class:"text-center pa-1"},{default:i(()=>[l(Tt,{size:"100"},{default:i(()=>[l(Mt,{src:e.user.avatar,alt:"Avatar"},null,8,["src"])]),_:1})]),_:1}),l(N,{cols:"2",class:"pa-1"},{default:i(()=>[l(Te,{dense:"",class:"pa-0"},{default:i(()=>[l(oe,{class:"px-1 min-height-auto"},{default:i(()=>[l(re,{class:"text-body-2",style:{"white-space":"nowrap",overflow:"visible"}},{default:i(()=>[_("姓名: "+H(e.user.name),1)]),_:1})]),_:1}),l(oe,{class:"px-1 min-height-auto"},{default:i(()=>[l(re,{class:"text-body-2",style:{"white-space":"nowrap",overflow:"visible"}},{default:i(()=>[_("性別: "+H(e.user.gender),1)]),_:1})]),_:1})]),_:1})]),_:1}),l(N,{cols:"4",class:"pa-1"},{default:i(()=>[l(Te,{dense:"",class:"pa-0"},{default:i(()=>[l(oe,{class:"px-1 min-height-auto"},{default:i(()=>[l(re,{class:"text-body-2",style:{"white-space":"nowrap",overflow:"visible"}},{default:i(()=>[_("隊伍: "+H(e.user.team),1)]),_:1})]),_:1}),l(oe,{class:"px-1 min-height-auto"},{default:i(()=>[l(re,{class:"text-body-2",style:{"white-space":"nowrap",overflow:"visible"}},{default:i(()=>[_("生日: "+H(e.user.birthday)+" ("+H(r.value)+"歲)",1)]),_:1})]),_:1})]),_:1})]),_:1}),l(N,{cols:"3",class:"pa-1"},{default:i(()=>[l(Te,{dense:"",class:"pa-0"},{default:i(()=>[l(oe,{class:"px-1 min-height-auto"},{default:i(()=>[l(re,{class:"text-body-2",style:{"white-space":"nowrap",overflow:"visible"}},{default:i(()=>[_("身高: "+H(e.user.height)+" cm",1)]),_:1})]),_:1}),l(oe,{class:"px-1 min-height-auto"},{default:i(()=>[l(re,{class:"text-body-2",style:{"white-space":"nowrap",overflow:"visible"}},{default:i(()=>[_("體重: "+H(e.user.weight)+" kg",1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},wa=he(pa,[["__scopeId","data-v-44f658b8"]]),ht=O({active:{type:[String,Array],default:void 0},controlHeight:[Number,String],disabled:{type:[Boolean,String,Array],default:null},nextIcon:{type:we,default:"$next"},prevIcon:{type:we,default:"$prev"},modeIcon:{type:we,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),Je=Y()({name:"VDatePickerControls",props:ht(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,n){let{emit:r}=n;const{t:a}=De(),t=V(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),c=V(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),s=V(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),u=V(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function v(){r("click:prev")}function b(){r("click:next")}function m(){r("click:year")}function h(){r("click:month")}return R(()=>x("div",{class:U(["v-date-picker-controls"]),style:{"--v-date-picker-controls-height":le(e.controlHeight)}},[l(T,{class:"v-date-picker-controls__month-btn","data-testid":"month-btn",disabled:t.value,text:e.text,variant:"text",rounded:!0,onClick:h},null),l(T,{class:"v-date-picker-controls__mode-btn","data-testid":"year-btn",disabled:c.value,density:"comfortable",icon:e.modeIcon,variant:"text","aria-label":a("$vuetify.datePicker.ariaLabel.selectYear"),onClick:m},null),l(yt,null,null),x("div",{class:"v-date-picker-controls__month"},[l(T,{"data-testid":"prev-month",disabled:s.value,density:"comfortable",icon:e.prevIcon,variant:"text","aria-label":a("$vuetify.datePicker.ariaLabel.previousMonth"),onClick:v},null),l(T,{"data-testid":"next-month",disabled:u.value,icon:e.nextIcon,density:"comfortable",variant:"text","aria-label":a("$vuetify.datePicker.ariaLabel.nextMonth"),onClick:b},null)])])),{}}}),xa=O({appendIcon:we,color:String,header:String,transition:String,onClick:It()},"VDatePickerHeader"),qe=Y()({name:"VDatePickerHeader",props:xa(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,n){let{emit:r,slots:a}=n;const{backgroundColorClasses:t,backgroundColorStyles:c}=Ce(()=>e.color);function s(){r("click")}function u(){r("click:append")}return R(()=>{const v=!!(a.default||e.header),b=!!(a.append||e.appendIcon);return x("div",{class:U(["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},t.value]),style:ue(c.value),onClick:s},[a.prepend&&x("div",{key:"prepend",class:"v-date-picker-header__prepend"},[a.prepend()]),v&&l(Ye,{key:"content",name:e.transition},{default:()=>[x("div",{key:e.header,class:"v-date-picker-header__content"},[a.default?.()??e.header])]}),b&&x("div",{class:"v-date-picker-header__append"},[a.append?l(Re,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>[a.append?.()]}):l(T,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:u},null)])])}),{}}}),Da=O({allowedDates:[Array,Function],disabled:{type:Boolean,default:null},displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:{type:[Number,String],default:void 0},firstDayOfYear:{type:[Number,String],default:void 0},weekdayFormat:String},"calendar");function Ca(e){const n=ge(),r=F(e,"modelValue",[],y=>xe(y).map(o=>n.date(o))),a=V(()=>e.displayValue?n.date(e.displayValue):r.value.length>0?n.date(r.value[0]):e.min?n.date(e.min):Array.isArray(e.allowedDates)?n.date(e.allowedDates[0]):n.date()),t=F(e,"year",void 0,y=>{const o=y!=null?Number(y):n.getYear(a.value);return n.startOfYear(n.setYear(n.date(),o))},y=>n.getYear(y)),c=F(e,"month",void 0,y=>{const o=y!=null?Number(y):n.getMonth(a.value),d=n.setYear(n.startOfMonth(n.date()),n.getYear(t.value));return n.setMonth(d,o)},y=>n.getMonth(y)),s=V(()=>{const y=n.toJsDate(n.startOfWeek(n.date(),e.firstDayOfWeek)).getDay();return n.getWeekdays(e.firstDayOfWeek,e.weekdayFormat).filter((o,d)=>e.weekdays.includes((d+y)%7))}),u=V(()=>{const y=n.getWeekArray(c.value,e.firstDayOfWeek),o=y.flat(),d=42;if(e.weeksInMonth==="static"&&o.length<d){const f=o[o.length-1];let S=[];for(let D=1;D<=d-o.length;D++)S.push(n.addDays(f,D)),D%7===0&&(y.push(S),S=[])}return y});function v(y,o){return y.filter(d=>e.weekdays.includes(n.toJsDate(d).getDay())).map((d,f)=>{const S=n.toISO(d),D=!n.isSameMonth(d,c.value),M=n.isSameDay(d,n.startOfMonth(c.value)),g=n.isSameDay(d,n.endOfMonth(c.value)),p=n.isSameDay(d,c.value),P=e.weekdays.length;return{date:d,formatted:n.format(d,"keyboardDate"),isAdjacent:D,isDisabled:k(d),isEnd:g,isHidden:D&&!e.showAdjacentMonths,isSame:p,isSelected:r.value.some(X=>n.isSameDay(d,X)),isStart:M,isToday:n.isSameDay(d,o),isWeekEnd:f%P===P-1,isWeekStart:f%P===0,isoDate:S,localized:n.format(d,"dayOfMonth"),month:n.getMonth(d),year:n.getYear(d)}})}const b=V(()=>{const y=n.startOfWeek(a.value,e.firstDayOfWeek),o=[];for(let f=0;f<=6;f++)o.push(n.addDays(y,f));const d=n.date();return v(o,d)}),m=V(()=>{const y=u.value.flat(),o=n.date();return v(y,o)}),h=V(()=>u.value.map(y=>y.length?n.getWeek(y[0],e.firstDayOfWeek,e.firstDayOfYear):null));function k(y){if(e.disabled)return!0;const o=n.date(y);return e.min&&n.isBefore(n.endOfDay(o),n.date(e.min))||e.max&&n.isAfter(o,n.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(d=>n.isSameDay(n.date(d),o)):typeof e.allowedDates=="function"?!e.allowedDates(o):!1}return{displayValue:a,daysInMonth:m,daysInWeek:b,genDays:v,model:r,weeksInMonth:u,weekdayLabels:s,weekNumbers:h}}const gt=O({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...K(Da(),["displayValue"])},"VDatePickerMonth"),Ke=Y()({name:"VDatePickerMonth",props:gt(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,n){let{emit:r,slots:a}=n;const t=w(),{t:c}=De(),{daysInMonth:s,model:u,weekNumbers:v,weekdayLabels:b}=Ca(e),m=ge(),h=ee(),k=ee(),y=ee(!1),o=W(()=>y.value?e.reverseTransition:e.transition);e.multiple==="range"&&u.value.length>0&&(h.value=u.value[0],u.value.length>1&&(k.value=u.value[u.value.length-1]));const d=V(()=>{const g=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return u.value.length>=g});be(s,(g,p)=>{p&&(y.value=m.isBefore(g[0].date,p[0].date))});function f(g){const p=m.startOfDay(g);if(u.value.length===0?h.value=void 0:u.value.length===1&&(h.value=u.value[0],k.value=void 0),!h.value)h.value=p,u.value=[h.value];else if(k.value)h.value=g,k.value=void 0,u.value=[h.value];else{if(m.isSameDay(p,h.value)){h.value=void 0,u.value=[];return}else m.isBefore(p,h.value)?(k.value=m.endOfDay(h.value),h.value=p):k.value=m.endOfDay(p);u.value=Bt(m,h.value,k.value)}}function S(g){const p=m.format(g.date,"fullDateWithWeekday"),P=g.isToday?"currentDate":"selectDate";return c(`$vuetify.datePicker.ariaLabel.${P}`,p)}function D(g){const p=u.value.findIndex(P=>m.isSameDay(P,g));if(p===-1)u.value=[...u.value,g];else{const P=[...u.value];P.splice(p,1),u.value=P}}function M(g){e.multiple==="range"?f(g):e.multiple?D(g):u.value=[g]}R(()=>x("div",{class:"v-date-picker-month",style:{"--v-date-picker-days-in-week":e.weekdays.length}},[e.showWeek&&x("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&x("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[_(" ")]),v.value.map(g=>x("div",{class:U(["v-date-picker-month__day","v-date-picker-month__day--adjacent"])},[g]))]),l(Ye,{name:o.value},{default:()=>[x("div",{ref:t,key:s.value[0].date?.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&b.value.map(g=>x("div",{class:U(["v-date-picker-month__day","v-date-picker-month__weekday"])},[g])),s.value.map((g,p)=>{const P={props:{class:"v-date-picker-month__day-btn",color:g.isSelected||g.isToday?e.color:void 0,disabled:g.isDisabled,icon:!0,ripple:!1,text:g.localized,variant:g.isSelected?"flat":g.isToday?"outlined":"text","aria-label":S(g),"aria-current":g.isToday?"date":void 0,onClick:()=>M(g.date)},item:g,i:p};return d.value&&!g.isSelected&&(g.isDisabled=!0),x("div",{class:U(["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":g.isAdjacent,"v-date-picker-month__day--hide-adjacent":g.isHidden,"v-date-picker-month__day--selected":g.isSelected,"v-date-picker-month__day--week-end":g.isWeekEnd,"v-date-picker-month__day--week-start":g.isWeekStart}]),"data-v-date":g.isDisabled?void 0:g.isoDate},[(e.showAdjacentMonths||!g.isAdjacent)&&(a.day?.(P)??l(T,P.props,null))])})])]})]))}}),bt=O({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number,allowedMonths:[Array,Function]},"VDatePickerMonths"),Qe=Y()({name:"VDatePickerMonths",props:bt(),emits:{"update:modelValue":e=>!0},setup(e,n){let{emit:r,slots:a}=n;const t=ge(),c=F(e,"modelValue"),s=V(()=>{let v=t.startOfYear(t.date());return e.year&&(v=t.setYear(v,e.year)),nt(12).map(b=>{const m=t.format(v,"monthShort"),h=t.format(v,"month"),k=!!(!u(b)||e.min&&t.isAfter(t.startOfMonth(t.date(e.min)),v)||e.max&&t.isAfter(v,t.startOfMonth(t.date(e.max))));return v=t.getNextMonth(v),{isDisabled:k,text:m,label:h,value:b}})});st(()=>{c.value=c.value??t.getMonth(t.date())});function u(v){return Array.isArray(e.allowedMonths)&&e.allowedMonths.length?e.allowedMonths.includes(v):typeof e.allowedMonths=="function"?e.allowedMonths(v):!0}return R(()=>x("div",{class:"v-date-picker-months",style:{height:le(e.height)}},[x("div",{class:"v-date-picker-months__content"},[s.value.map((v,b)=>{const m={active:c.value===b,ariaLabel:v.label,color:c.value===b?e.color:void 0,disabled:v.isDisabled,rounded:!0,text:v.text,variant:c.value===v.value?"flat":"text",onClick:()=>h(b)};function h(k){if(c.value===k){r("update:modelValue",c.value);return}c.value=k}return a.month?.({month:v,i:b,props:m})??l(T,I({key:"month"},m),null)})])])),{}}}),kt=O({color:String,height:[String,Number],min:null,max:null,modelValue:Number,allowedYears:[Array,Function]},"VDatePickerYears"),Ze=Y()({name:"VDatePickerYears",props:kt(),directives:{vIntersect:He},emits:{"update:modelValue":e=>!0},setup(e,n){let{emit:r,slots:a}=n;const t=ge(),c=F(e,"modelValue"),s=V(()=>{const m=t.getYear(t.date());let h=m-100,k=m+52;e.min&&(h=t.getYear(t.date(e.min))),e.max&&(k=t.getYear(t.date(e.max)));let y=t.startOfYear(t.date());return y=t.setYear(y,h),nt(k-h+1,h).map(o=>{const d=t.format(y,"year");return y=t.setYear(y,t.getYear(y)+1),{text:d,value:o,isDisabled:!b(o)}})});st(()=>{c.value=c.value??t.getYear(t.date())});const u=Ot();function v(){u.el?.focus(),u.el?.scrollIntoView({block:"center"})}function b(m){return Array.isArray(e.allowedYears)&&e.allowedYears.length?e.allowedYears.includes(m):typeof e.allowedYears=="function"?e.allowedYears(m):!0}return R(()=>$e(x("div",{class:"v-date-picker-years",style:{height:le(e.height)}},[x("div",{class:"v-date-picker-years__content"},[s.value.map((m,h)=>{const k={ref:c.value===m.value?u:void 0,active:c.value===m.value,color:c.value===m.value?e.color:void 0,rounded:!0,text:m.text,disabled:m.isDisabled,variant:c.value===m.value?"flat":"text",onClick:()=>{if(c.value===m.value){r("update:modelValue",c.value);return}c.value=m.value}};return a.year?.({year:m,i:h,props:k})??l(T,I({key:"month"},k),null)})])]),[[He,{handler:v},null,{once:!0}]])),{}}}),Va=Yt("v-picker-title"),pt=O({color:String,...Xt(),...We(),...Ut(),...Ht(),...Ft(),...Nt(),...zt(),...Le(),...rt()},"VSheet"),ye=Y()({name:"VSheet",props:pt(),setup(e,n){let{slots:r}=n;const{themeClasses:a}=ot(e),{backgroundColorClasses:t,backgroundColorStyles:c}=Ce(()=>e.color),{borderClasses:s}=Rt(e),{dimensionStyles:u}=$t(e),{elevationClasses:v}=Lt(e),{locationStyles:b}=Wt(e),{positionClasses:m}=jt(e),{roundedClasses:h}=Et(e);return R(()=>l(e.tag,{class:U(["v-sheet",a.value,t.value,s.value,v.value,m.value,h.value,e.class]),style:ue([c.value,u.value,b.value,e.style])},r)),{}}}),wt=O({bgColor:String,divided:Boolean,landscape:Boolean,title:String,hideHeader:Boolean,hideTitle:Boolean,...pt()},"VPicker"),et=Y()({name:"VPicker",props:wt(),setup(e,n){let{slots:r}=n;const{backgroundColorClasses:a,backgroundColorStyles:t}=Ce(()=>e.color);return R(()=>{const c=ye.filterProps(e),s=!e.hideTitle&&!!(e.title||r.title);return l(ye,I(c,{color:e.bgColor,class:["v-picker",{"v-picker--divided":e.divided,"v-picker--landscape":e.landscape,"v-picker--with-actions":!!r.actions},e.class],style:e.style}),{default:()=>[!e.hideHeader&&x("div",{key:"header",class:U([a.value]),style:ue([t.value])},[s&&l(Va,{key:"picker-title"},{default:()=>[r.title?.()??e.title]}),r.header&&x("div",{class:"v-picker__header"},[r.header()])]),x("div",{class:"v-picker__body"},[r.default?.()]),r.actions&&l(Re,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[x("div",{class:"v-picker__actions"},[r.actions()])]})]})}),{}}}),Sa=O({header:{type:String,default:"$vuetify.datePicker.header"},headerColor:String,...ht(),...gt({weeksInMonth:"static"}),...K(bt(),["modelValue"]),...K(kt(),["modelValue"]),...wt({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),tt=Y()({name:"VDatePicker",props:Sa(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,n){let{emit:r,slots:a}=n;const t=ge(),{t:c}=De(),{rtlClasses:s}=it(),u=F(e,"modelValue",void 0,C=>xe(C).map(A=>t.date(A)),C=>e.multiple?C:C[0]),v=F(e,"viewMode"),b=V(()=>{const C=t.date(e.min);return e.min&&t.isValid(C)?C:null}),m=V(()=>{const C=t.date(e.max);return e.max&&t.isValid(C)?C:null}),h=V(()=>{const C=t.date();let A=C;return u.value?.[0]?A=t.date(u.value[0]):b.value&&t.isBefore(C,b.value)?A=b.value:m.value&&t.isAfter(C,m.value)&&(A=m.value),A&&t.isValid(A)?A:C}),k=W(()=>e.headerColor??e.color),y=F(e,"month"),o=V({get:()=>Number(y.value??t.getMonth(t.startOfMonth(h.value))),set:C=>y.value=C}),d=F(e,"year"),f=V({get:()=>Number(d.value??t.getYear(t.startOfYear(t.setMonth(h.value,o.value)))),set:C=>d.value=C}),S=ee(!1),D=V(()=>e.multiple&&u.value.length>1?c("$vuetify.datePicker.itemsSelected",u.value.length):u.value[0]&&t.isValid(u.value[0])?t.format(t.date(u.value[0]),"normalDateWithWeekday"):c(e.header)),M=V(()=>{let C=t.date();return C=t.setDate(C,1),C=t.setMonth(C,o.value),C=t.setYear(C,f.value),t.format(C,"monthAndYear")}),g=W(()=>`date-picker-header${S.value?"-reverse":""}-transition`),p=V(()=>{if(e.disabled)return!0;const C=[];if(v.value!=="month")C.push("prev","next");else{let A=t.date();if(A=t.startOfMonth(A),A=t.setMonth(A,o.value),A=t.setYear(A,f.value),b.value){const $=t.addDays(t.startOfMonth(A),-1);t.isAfter(b.value,$)&&C.push("prev")}if(m.value){const $=t.addDays(t.endOfMonth(A),1);t.isAfter($,m.value)&&C.push("next")}}return C}),P=V(()=>e.allowedYears||Pe),X=V(()=>e.allowedMonths||Ee);function G(C,A){const $=e.allowedDates;if(typeof $!="function")return!0;const Q=t.getDiff(A,C,"days");for(let Z=0;Z<Q;Z++)if($(t.addDays(C,Z)))return!0;return!1}function Pe(C){if(typeof e.allowedDates=="function"){const A=t.parseISO(`${C}-01-01`);return G(A,t.endOfYear(A))}if(Array.isArray(e.allowedDates)&&e.allowedDates.length){for(const A of e.allowedDates)if(t.getYear(t.date(A))===C)return!0;return!1}return!0}function Ee(C){if(typeof e.allowedDates=="function"){const A=String(C+1).padStart(2,"0"),$=t.parseISO(`${f.value}-${A}-01`);return G($,t.endOfMonth($))}if(Array.isArray(e.allowedDates)&&e.allowedDates.length){for(const A of e.allowedDates)if(t.getYear(t.date(A))===f.value&&t.getMonth(t.date(A))===C)return!0;return!1}return!0}function Ae(){o.value<11?o.value++:(f.value++,o.value=0,ce()),de()}function _e(){o.value>0?o.value--:(f.value--,o.value=11,ce()),de()}function ke(){v.value="month"}function ze(){v.value=v.value==="months"?"month":"months"}function Ne(){v.value=v.value==="year"?"month":"year"}function de(){v.value==="months"&&ze()}function ce(){v.value==="year"&&Ne()}return be(u,(C,A)=>{const $=xe(A),Q=xe(C);if(!Q.length)return;const Z=t.date($[$.length-1]),ve=t.date(Q[Q.length-1]),se=t.getMonth(ve),j=t.getYear(ve);se!==o.value&&(o.value=se,de()),j!==f.value&&(f.value=j,ce()),S.value=t.isBefore(Z,ve)}),R(()=>{const C=et.filterProps(e),A=Je.filterProps(e),$=qe.filterProps(e),Q=Ke.filterProps(e),Z=K(Qe.filterProps(e),["modelValue"]),ve=K(Ze.filterProps(e),["modelValue"]),se={color:k.value,header:D.value,transition:g.value};return l(et,I(C,{color:k.value,class:["v-date-picker",`v-date-picker--${v.value}`,{"v-date-picker--show-week":e.showWeek},s.value,e.class],style:e.style}),{title:()=>a.title?.()??x("div",{class:"v-date-picker__title"},[c(e.title)]),header:()=>a.header?l(Re,{defaults:{VDatePickerHeader:{...se}}},{default:()=>[a.header?.(se)]}):l(qe,I({key:"header"},$,se,{onClick:v.value!=="month"?ke:void 0}),{prepend:a.prepend,append:a.append}),default:()=>x(Ve,null,[l(Je,I(A,{disabled:p.value,text:M.value,"onClick:next":Ae,"onClick:prev":_e,"onClick:month":ze,"onClick:year":Ne}),null),l(Gt,{hideOnLeave:!0},{default:()=>[v.value==="months"?l(Qe,I({key:"date-picker-months"},Z,{modelValue:o.value,"onUpdate:modelValue":[j=>o.value=j,de],min:b.value,max:m.value,year:f.value,allowedMonths:X.value}),{month:a.month}):v.value==="year"?l(Ze,I({key:"date-picker-years"},ve,{modelValue:f.value,"onUpdate:modelValue":[j=>f.value=j,ce],min:b.value,max:m.value,allowedYears:P.value}),{year:a.year}):l(Ke,I({key:"date-picker-month"},Q,{modelValue:u.value,"onUpdate:modelValue":j=>u.value=j,month:o.value,"onUpdate:month":[j=>o.value=j,de],year:f.value,"onUpdate:year":[j=>f.value=j,ce],min:b.value,max:m.value}),{day:a.day})]})]),actions:a.actions})}),{}}}),Pa=O({id:String,interactive:Boolean,text:String,...K(qt({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:null}),["absolute","persistent"])},"VTooltip"),Aa=Y()({name:"VTooltip",props:Pa(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:r}=n;const a=F(e,"modelValue"),{scopeId:t}=ut(),c=Jt(),s=W(()=>e.id||`v-tooltip-${c}`),u=w(),v=V(()=>e.location.split(" ").length>1?e.location:e.location+" center"),b=V(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),m=W(()=>e.transition!=null?e.transition:a.value?"scale-transition":"fade-transition"),h=V(()=>I({"aria-describedby":s.value},e.activatorProps));return R(()=>{const k=Ue.filterProps(e);return l(Ue,I({ref:u,class:["v-tooltip",{"v-tooltip--interactive":e.interactive},e.class],style:e.style,id:s.value},k,{modelValue:a.value,"onUpdate:modelValue":y=>a.value=y,transition:m.value,absolute:!0,location:v.value,origin:b.value,persistent:!0,role:"tooltip",activatorProps:h.value,_disableGlobalStack:!0},t),{activator:r.activator,default:function(){for(var y=arguments.length,o=new Array(y),d=0;d<y;d++)o[d]=arguments[d];return r.default?.(...o)??e.text}})}),dt({},u)}}),_a={style:{"font-weight":"bold",color:"#1F6C84","font-size":"48px"}},Ta={style:{"font-weight":"bold",color:"#1F6C84","font-size":"20px"}},Ma={__name:"acwr",props:{acwrValue:{type:Number,default:0}},emits:["dateConfirm"],setup(e,{emit:n}){const r=V(()=>{const y=new Date;return y.setDate(y.getDate()-1),y.toISOString().split("T")[0]}),a=w(!1),t=w([]),c=V(()=>{if(!t.value)return"";if(Array.isArray(t.value)&&t.value.length>0){const y=t.value.map(o=>new Date(o).toISOString().split("T")[0]);return y.length>1?`${y[0]} ~ ${y[y.length-1]}`:y[0]}return new Date(t.value).toISOString().split("T")[0]}),s=w(!1),u=w([]),v=V(()=>{if(!u.value)return"";if(Array.isArray(u.value)&&u.value.length>0){const y=u.value.map(o=>new Date(o).toISOString().split("T")[0]);return y.length>1?`${y[0]} ~ ${y[y.length-1]}`:y[0]}return new Date(u.value).toISOString().split("T")[0]});function b(y){const o=new Date;o.setDate(o.getDate()-1);const d=[];for(let f=y-1;f>=0;f--){const S=new Date;S.setDate(o.getDate()-f),d.push(S)}return d}const m=n,h=w(!1);function k(){m("dateConfirm",{shortTermRange:t.value,longTermRange:u.value}),h.value=!1}return ne(()=>{t.value=b(7),u.value=b(28)}),(y,o)=>(L(),E(z,{class:"acwr-card",outlined:""},{default:i(()=>[l(q,{class:"pa-0"},{default:i(()=>[l(ie,{class:"pa-0"},{default:i(()=>[l(J,{class:"align-center justify-center position-relative ma-0"},{default:i(()=>[l(N,{cols:"auto",class:"d-flex align-center justify-center"},{default:i(()=>[o[10]||(o[10]=x("span",{style:{"font-weight":"bold",color:"#1F6C84","font-size":"20px"}},"ACWR值",-1)),l(Aa,{location:"top","open-delay":"300"},{activator:i(({props:d})=>[l(Ie,I(d,{icon:"mdi-alert-circle",color:"#1F6C84",class:"ml-2"}),null,16)]),default:i(()=>[o[9]||(o[9]=x("div",null,[x("div",null,"● 「短期的訓練量」/「長期平均訓練量」"),x("div",null,"● 預設計算當日ACWR值 (「近一週總訓練量」/「近四週平均訓練量」)")],-1))]),_:1})]),_:1}),l(N,{cols:"auto",class:"position-absolute",style:{right:"0"}},{default:i(()=>[l(Me,{modelValue:h.value,"onUpdate:modelValue":o[8]||(o[8]=d=>h.value=d),"close-on-content-click":!1,location:"bottom end",transition:"scale-transition"},{activator:i(({props:d})=>[l(Ie,I(d,{color:"primary",icon:"mdi-menu",class:"cursor-pointer"}),null,16)]),default:i(()=>[l(z,{"min-width":"300px"},{default:i(()=>[l(q,null,{default:i(()=>[l(J,null,{default:i(()=>[l(N,{cols:"12"},{default:i(()=>[l(Me,{modelValue:a.value,"onUpdate:modelValue":o[3]||(o[3]=d=>a.value=d),"close-on-content-click":!1,transition:"scale-transition"},{activator:i(({props:d})=>[l(Xe,I({"hide-details":"auto"},d,{modelValue:c.value,"onUpdate:modelValue":o[0]||(o[0]=f=>c.value=f),readonly:"",density:"compact","append-inner-icon":"mdi-calendar",label:"短期",variant:"outlined",placeholder:"選擇日期範圍"}),null,16,["modelValue"])]),default:i(()=>[l(z,null,{default:i(()=>[l(tt,{modelValue:t.value,"onUpdate:modelValue":o[2]||(o[2]=d=>t.value=d),multiple:"range",scrollable:""},{actions:i(()=>[l(T,{text:"",color:"primary",onClick:o[1]||(o[1]=d=>a.value=!1)},{default:i(()=>[...o[11]||(o[11]=[_("確定",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(N,{cols:"12"},{default:i(()=>[l(Me,{modelValue:s.value,"onUpdate:modelValue":o[7]||(o[7]=d=>s.value=d),"close-on-content-click":!1,transition:"scale-transition"},{activator:i(({props:d})=>[l(Xe,I({"hide-details":"auto"},d,{modelValue:v.value,"onUpdate:modelValue":o[4]||(o[4]=f=>v.value=f),readonly:"",density:"compact","append-inner-icon":"mdi-calendar",label:"長期",variant:"outlined",placeholder:"選擇日期範圍"}),null,16,["modelValue"])]),default:i(()=>[l(z,null,{default:i(()=>[l(tt,{modelValue:u.value,"onUpdate:modelValue":o[6]||(o[6]=d=>u.value=d),multiple:"range",scrollable:""},{actions:i(()=>[l(T,{text:"",color:"primary",onClick:o[5]||(o[5]=d=>s.value=!1)},{default:i(()=>[...o[12]||(o[12]=[_("確定",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(J,{justify:"center",class:"mt-4"},{default:i(()=>[l(T,{variant:"flat",color:"primary",onClick:k,block:""},{default:i(()=>[...o[13]||(o[13]=[_(" 確認 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(J,{justify:"center",class:"my-4"},{default:i(()=>[x("span",_a,H(e.acwrValue),1)]),_:1}),l(J,{justify:"center",class:"my-4"},{default:i(()=>[x("span",Ta,H(r.value),1)]),_:1})]),_:1})]),_:1})]),_:1}))}},Ia=he(Ma,[["__scopeId","data-v-7e487f26"]]),Ba={__name:"stackbar",props:{categories:{type:Array,default:()=>[]},rawData:{type:Array,default:()=>[]},xAxisData:{type:Array,default:()=>[]}},setup(e){const n=w(null);let r=null;const a=e,t=()=>{n.value&&(r=ae(n.value),c())},c=()=>{if(!a.rawData.length)return;const s=[];for(let b=0;b<a.rawData[0].length;++b){let m=0;for(let h=0;h<a.rawData.length;++h)m+=a.rawData[h][b];s.push(m)}const u=a.categories.map((b,m)=>({name:b,type:"bar",stack:"total",barWidth:"60%",label:{show:!0,formatter:h=>Math.round(h.value*1e3)/10+"%"},data:a.rawData[m].map((h,k)=>s[k]<=0?0:h/s[k])})),v={title:{text:"各項度趨勢分析",top:0},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:a.categories,top:30},grid:{left:"10%",right:"10%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:a.xAxisData,axisLabel:{rotate:45}},yAxis:{type:"value"},series:u};r.setOption(v)};return be(()=>[a.rawData,a.categories,a.xAxisData],()=>{r&&(r.clear(),c())},{deep:!0}),ne(()=>{t(),window.addEventListener("resize",()=>r?.resize())}),Se(()=>{r?.dispose()}),(s,u)=>(L(),ct("div",{ref_key:"chartRef",ref:n,style:{width:"100%",height:"400px"}},null,512))}},Oa={__name:"acwrTrend",props:{categories:{type:Array,default:()=>[]},shortTermData:{type:Array,default:()=>[]},longTermData:{type:Array,default:()=>[]},acwrData:{type:Array,default:()=>[]},xAxisData:{type:Array,default:()=>[]}},setup(e){const n=w(null),r=w(null);let a=null,t=null;const c=e,s=()=>{if(!a)return;const m={title:{text:""},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},graphic:[{type:"group",left:"2%",top:"middle",rotation:Math.PI/2,children:[{type:"rect",shape:{width:20,height:10},style:{fill:"#5470c6"}},{type:"text",left:30,top:0,style:{text:"短期負荷(日)",fill:"#000",font:"14px sans-serif"}}]},{type:"group",right:"2%",top:"middle",rotation:Math.PI/2,children:[{type:"rect",shape:{width:20,height:10},style:{fill:"#91cc75"}},{type:"text",left:30,top:0,style:{text:"長期負荷(日)",fill:"#000",font:"14px sans-serif"}}]},{type:"line",left:"14.5%",top:"-100%",shape:{x1:0,y1:0,x2:0,y2:1e3},style:{stroke:"#000",lineWidth:1}}],toolbox:{feature:{saveAsImage:{}}},grid:{left:"15%",right:"10%",bottom:"10%",containLabel:!1},xAxis:[{type:"category",boundaryGap:!1,data:c.xAxisData,axisLabel:{interval:"auto",align:"end"}}],yAxis:[{type:"value"}],series:[{name:"短期負荷(日)",type:"line",stack:"Total",areaStyle:{color:new Fe(0,0,0,1,[{offset:0,color:"#60B7C7"},{offset:.1,color:"#EEFCFF"}])},emphasis:{focus:"series"},data:c.shortTermData},{name:"長期負荷(日)",type:"line",stack:"Total",areaStyle:{color:new Fe(0,0,0,1,[{offset:0,color:"#8BF213"},{offset:.1,color:"#E9FFCF"}])},emphasis:{focus:"series"},data:c.longTermData}]};a.setOption(m)},u=()=>{if(!t)return;const m={tooltip:{trigger:"axis"},legend:{data:["ACWR(日)"]},grid:{left:"15%",right:"10%",bottom:"10%",top:"0%",containLabel:!1},xAxis:[{type:"category",boundaryGap:!1,data:c.xAxisData,show:!1}],yAxis:[{type:"value"}],series:[{type:"line",data:c.acwrData,lineStyle:{color:"#5470c6",width:2}}],graphic:[{type:"group",left:"2%",top:"middle",rotation:Math.PI/2,children:[{type:"rect",shape:{width:20,height:10},style:{fill:"#5470c6"}},{type:"text",left:30,top:0,style:{text:"ACWR(日)",fill:"#000",font:"14px sans-serif"}}]},{type:"line",left:"14.5%",top:"-100%",shape:{x1:0,y1:0,x2:0,y2:1e3},style:{stroke:"#000",lineWidth:1}}]};t.setOption(m)};ne(()=>{v()});function v(){a=ae(n.value),s(),t=ae(r.value),u(),window.addEventListener("resize",b)}be(()=>[c.categories,c.xAxisData,c.shortTermData,c.longTermData,c.acwrData],()=>{v()},{deep:!0}),Se(()=>{window.removeEventListener("resize",b),a?.dispose(),t?.dispose()});function b(){a?.resize(),t?.resize()}return(m,h)=>(L(),E(ie,{fluid:"",class:"pa-0"},{default:i(()=>[l(z,{outlined:"",class:"pa-2 mb-4"},{default:i(()=>[l(_t,{class:"text-h6"},{default:i(()=>[...h[0]||(h[0]=[_("ACWR趨勢",-1)])]),_:1}),l(q,null,{default:i(()=>[x("div",{ref_key:"loadChart",ref:n,style:{width:"100%",height:"400px"}},null,512),x("div",{ref_key:"acwrChart",ref:r,style:{width:"100%",height:"400px"}},null,512)]),_:1})]),_:1})]),_:1}))}},Ya={class:"my-4 text-center"},Ra={__name:"acwrPersonal",props:{user:{type:Object,default:()=>({})}},setup(e,{expose:n}){const r=e,a=vt({typeA:!0,typeB:!0,typeC:!0,typeD:!0}),t=w([]),c=w([]),s=w([]),u=w(["2025/01/01","2025/01/02","2025/01/03","2025/01/04","2025/01/05","2025/01/06","2025/01/07"]),v=w([]),b=w([]),m=w([]),h=w(18);function k(d){d.shortTermRange.length>0&&d.longTermRange.length>0&&te.getACWR({filters:a,userId:r.user.id,shortTerm:d.shortTermRange,longTerm:d.longTermRange}).then(f=>{h.value=f.data}).catch(f=>{console.error("Error fetching ACWR data:",f)})}function y(d){te.getStackbar({filters:a,userId:r.user.id,sDate:d.sDate,eDate:d.eDate}).then(f=>{c.value=f.data.data,s.value=f.data.xAxisData,t.value=f.data.types,s.value=f.data.xAxisData}),te.getAcwrTrend({filters:a,userId:r.user.id,sDate:d.sDate,eDate:d.eDate}).then(f=>{console.log("AcwrTrend data fetched successfully:",f),v.value=f.data.shortTerm,b.value=f.data.longTerm,m.value=f.data.acwr,u.value=f.data.xAxisData})}function o(d){switch(d){case"typeA":a.typeA=!a.typeA;break;case"typeB":a.typeB=!a.typeB;break;case"typeC":a.typeC=!a.typeC;break;case"typeD":a.typeD=!a.typeD;break}}return n({handleSearch:y}),(d,f)=>(L(),E(z,{class:"board-card",outlined:""},{default:i(()=>[l(q,null,{default:i(()=>[l(J,null,{default:i(()=>[l(N,{cols:"6"},{default:i(()=>[l(wa,{user:r.user},null,8,["user"]),x("div",Ya,[l(T,{class:"pa-1 mx-1",color:a.typeA?"primary":"grey",onClick:f[0]||(f[0]=S=>o("typeA"))},{default:i(()=>[...f[4]||(f[4]=[_(" A專項體能 ",-1)])]),_:1},8,["color"]),l(T,{class:"pa-1 mx-1",color:a.typeB?"primary":"grey",onClick:f[1]||(f[1]=S=>o("typeB"))},{default:i(()=>[...f[5]||(f[5]=[_(" B一般體能 ",-1)])]),_:1},8,["color"]),l(T,{class:"pa-1 mx-1",color:a.typeC?"primary":"grey",onClick:f[2]||(f[2]=S=>o("typeC"))},{default:i(()=>[...f[6]||(f[6]=[_(" C重量訓練 ",-1)])]),_:1},8,["color"]),l(T,{class:"pa-1 mx-1",color:a.typeD?"primary":"grey",onClick:f[3]||(f[3]=S=>o("typeD"))},{default:i(()=>[...f[7]||(f[7]=[_(" D自助練習 ",-1)])]),_:1},8,["color"])]),l(Ia,{class:"mt-4","acwr-value":h.value,onDateConfirm:k},null,8,["acwr-value"]),l(Ba,{class:"mt-4",categories:t.value,"x-axis-data":s.value,"raw-data":c.value},null,8,["categories","x-axis-data","raw-data"])]),_:1}),l(N,{cols:"6"},{default:i(()=>[l(Oa,{class:"mb-4",categories:t.value,"x-axis-data":u.value,"short-term-data":v.value,"long-term-data":b.value,"acwr-data":m.value},null,8,["categories","x-axis-data","short-term-data","long-term-data","acwr-data"])]),_:1})]),_:1})]),_:1})]),_:1}))}},$a=he(Ra,[["__scopeId","data-v-b5dd07bb"]]),La={class:"my-4 text-center"},Wa={__name:"acwrCompare",props:{userList:{type:Array,default:()=>[]}},setup(e,{expose:n}){const r=w(null),a=w(null);let t=null,c=null;const s=vt({total:!0,typeA:!0,typeB:!0,typeC:!0,typeD:!0});function u(S){switch(S){case"total":s.total=!s.total,s.typeA=s.total,s.typeB=s.total,s.typeC=s.total,s.typeD=s.total;break;case"typeA":s.typeA=!s.typeA;break;case"typeB":s.typeB=!s.typeB;break;case"typeC":s.typeC=!s.typeC;break;case"typeD":s.typeD=!s.typeD;break}}const v=e,b=w([]),m=w([]),h=w([]),k=()=>{if(!t)return;const S={tooltip:{trigger:"axis"},legend:{top:0},dataset:{source:h.value},xAxis:{type:"category"},yAxis:{},series:h.value.length>0?h.value[0].slice(1).map(()=>({type:"bar"})):[]};t.setOption(S)},y=()=>{if(!c)return;const S={tooltip:{trigger:"axis"},legend:{data:v.userList},xAxis:[{type:"category",boundaryGap:!1,data:b.value,show:!0}],yAxis:[{type:"value"}],series:m.value};c.setOption(S)};ne(()=>{});function o(){t?.dispose(),c?.dispose(),t=ae(r.value),k(),c=ae(a.value),y(),window.addEventListener("resize",d)}Se(()=>{window.removeEventListener("resize",d),t?.dispose(),c?.dispose()});function d(){t?.resize(),acwrChartCompaerInstance?.resize()}function f(S){const D=v.userList.map(g=>g.name),M=v.userList.map(g=>g.id);te.getAcwrCompare({filters:s,userNameList:D,userIdList:M,sDate:S.sDate,eDate:S.eDate}).then(g=>{h.value=g.data.sourceData,D.value=g.data.memberList,b.value=g.data.xAxisData,m.value=g.data.acwrCompareSeries,o()})}return n({handleSearch:f}),(S,D)=>(L(),E(ie,{fluid:"",class:"pa-0"},{default:i(()=>[l(z,{outlined:"",class:"pa-2 mb-4"},{default:i(()=>[x("div",La,[l(T,{class:"pa-1 mx-1",color:B(s).total?"primary":"grey",onClick:D[0]||(D[0]=M=>u("total"))},{default:i(()=>[...D[5]||(D[5]=[_(" 總量 ",-1)])]),_:1},8,["color"]),l(T,{class:"pa-1 mx-1",color:B(s).typeA?"primary":"grey",onClick:D[1]||(D[1]=M=>u("typeA"))},{default:i(()=>[...D[6]||(D[6]=[_(" A專項體能 ",-1)])]),_:1},8,["color"]),l(T,{class:"pa-1 mx-1",color:B(s).typeB?"primary":"grey",onClick:D[2]||(D[2]=M=>u("typeB"))},{default:i(()=>[...D[7]||(D[7]=[_(" B一般體能 ",-1)])]),_:1},8,["color"]),l(T,{class:"pa-1 mx-1",color:B(s).typeC?"primary":"grey",onClick:D[3]||(D[3]=M=>u("typeC"))},{default:i(()=>[...D[8]||(D[8]=[_(" C重量訓練 ",-1)])]),_:1},8,["color"]),l(T,{class:"pa-1 mx-1",color:B(s).typeD?"primary":"grey",onClick:D[4]||(D[4]=M=>u("typeD"))},{default:i(()=>[...D[9]||(D[9]=[_(" D自助練習 ",-1)])]),_:1},8,["color"])]),l(q,null,{default:i(()=>[x("div",{ref_key:"loadChartCompare",ref:r,style:{width:"100%",height:"400px"}},null,512),x("div",{ref_key:"acwrChartCompare",ref:a,style:{width:"100%",height:"400px"}},null,512)]),_:1})]),_:1})]),_:1}))}},ja={__name:"cmjAnalysis",props:{userList:{type:Array,required:!0}},setup(e,{expose:n}){const r=e,a=w([{title:"CMJ",value:"cmj"},{title:"SJ",value:"sj"},{title:"SP",value:"sp"}]),t=w([{title:"跳躍高度",value:"jumpHeight"},{title:"離地耗時",value:"timeOffGround"},{title:"系統重量",value:"systemWeight"},{title:"峰值推進力量",value:"peakPropulsiveForce"},{title:"推進發力率",value:"propulsivePowerRate"}]),c=w([]),s=w(null);let u=null;const v=()=>{if(!u)return;const h={tooltip:{trigger:"axis"},legend:{data:r.userList.map(k=>k.name),top:0},radar:{indicator:[{name:"推進發力率",max:100},{name:"SJ跳躍高度",max:100},{name:"CMJ跳躍高度",max:100},{name:"系統重量",max:1e3},{name:"離地耗時",max:1e3},{name:"峰值推進力量",max:5e3}]},series:c.value};u.setOption(h)};function b(){u?.dispose(),u=ae(s.value),v()}ne(()=>{b()});function m(h){const k=h.selectedMembers.map(o=>o.name),y=h.selectedMembers.map(o=>o.id);te.getCmjAnalysis({userNameList:k,userIdList:y,mDate:h.mDate}).then(o=>{c.value=o.data.series,b()})}return n({handleSearch:m}),(h,k)=>(L(),E(ie,{fluid:"",class:"pa-0"},{default:i(()=>[l(z,{outlined:"",class:"pa-2 mb-4"},{default:i(()=>[l(N,{cols:"6"},{default:i(()=>[l(J,null,{default:i(()=>[l(Be,{class:"pa-2",modelValue:h.selectAction,"onUpdate:modelValue":k[0]||(k[0]=y=>h.selectAction=y),items:a.value,"item-title":"title","item-value":"value",label:"測驗動作",variant:"outlined"},null,8,["modelValue","items"]),l(Be,{class:"pa-2",modelValue:h.selectParam,"onUpdate:modelValue":k[1]||(k[1]=y=>h.selectParam=y),items:t.value,"item-title":"title","item-value":"value",label:"參數",variant:"outlined"},null,8,["modelValue","items"])]),_:1})]),_:1}),l(yt),l(N,{cols:"12"},{default:i(()=>[l(J,null,{default:i(()=>[x("div",{ref_key:"cmjRadarRef",ref:s,style:{width:"100%",height:"600px"}},null,512)]),_:1})]),_:1})]),_:1})]),_:1}))}},je=Symbol.for("vuetify:v-tabs"),xt=O({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...K(Qt({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),fe=Y()({name:"VTab",props:xt(),setup(e,n){let{slots:r,attrs:a}=n;const{textColorClasses:t,textColorStyles:c}=Kt(()=>e.sliderColor),s=w(),u=w(),v=V(()=>e.direction==="horizontal"),b=V(()=>s.value?.group?.isSelected.value??!1);function m(h){let{value:k}=h;if(k){const y=s.value?.$el.parentElement?.querySelector(".v-tab--selected .v-tab__slider"),o=u.value;if(!y||!o)return;const d=getComputedStyle(y).color,f=y.getBoundingClientRect(),S=o.getBoundingClientRect(),D=v.value?"x":"y",M=v.value?"X":"Y",g=v.value?"right":"bottom",p=v.value?"width":"height",P=f[D],X=S[D],G=P>X?f[g]-S[g]:f[D]-S[D],Pe=Math.sign(G)>0?v.value?"right":"bottom":Math.sign(G)<0?v.value?"left":"top":"center",Ae=(Math.abs(G)+(Math.sign(G)<0?f[p]:S[p]))/Math.max(f[p],S[p])||0,_e=f[p]/S[p]||0,ke=1.5;Zt(o,{backgroundColor:[d,"currentcolor"],transform:[`translate${M}(${G}px) scale${M}(${_e})`,`translate${M}(${G/ke}px) scale${M}(${(Ae-1)/ke+1})`,"none"],transformOrigin:Array(3).fill(Pe)},{duration:225,easing:ea})}}return R(()=>{const h=T.filterProps(e);return l(T,I({symbol:je,ref:s,class:["v-tab",e.class],style:e.style,tabindex:b.value?0:-1,role:"tab","aria-selected":String(b.value),active:!1},h,a,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":m}),{...r,default:()=>x(Ve,null,[r.default?.()??e.text,!e.hideSlider&&x("div",{ref:u,class:U(["v-tab__slider",t.value]),style:ue(c.value)},null)])})}),dt({},s)}}),Ea=e=>{const{touchstartX:n,touchendX:r,touchstartY:a,touchendY:t}=e,c=.5,s=16;e.offsetX=r-n,e.offsetY=t-a,Math.abs(e.offsetY)<c*Math.abs(e.offsetX)&&(e.left&&r<n-s&&e.left(e),e.right&&r>n+s&&e.right(e)),Math.abs(e.offsetX)<c*Math.abs(e.offsetY)&&(e.up&&t<a-s&&e.up(e),e.down&&t>a+s&&e.down(e))};function za(e,n){const r=e.changedTouches[0];n.touchstartX=r.clientX,n.touchstartY=r.clientY,n.start?.({originalEvent:e,...n})}function Na(e,n){const r=e.changedTouches[0];n.touchendX=r.clientX,n.touchendY=r.clientY,n.end?.({originalEvent:e,...n}),Ea(n)}function Fa(e,n){const r=e.changedTouches[0];n.touchmoveX=r.clientX,n.touchmoveY=r.clientY,n.move?.({originalEvent:e,...n})}function Ha(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:r=>za(r,n),touchend:r=>Na(r,n),touchmove:r=>Fa(r,n)}}function Ua(e,n){const r=n.value,a=r?.parent?e.parentElement:e,t=r?.options??{passive:!0},c=n.instance?.$.uid;if(!a||c===void 0)return;const s=Ha(n.value);a._touchHandlers=a._touchHandlers??Object.create(null),a._touchHandlers[c]=s,ft(s).forEach(u=>{a.addEventListener(u,s[u],t)})}function Xa(e,n){const r=n.value?.parent?e.parentElement:e,a=n.instance?.$.uid;if(!r?._touchHandlers||a===void 0)return;const t=r._touchHandlers[a];ft(t).forEach(c=>{r.removeEventListener(c,t[c])}),delete r._touchHandlers[a]}const Oe={mounted:Ua,unmounted:Xa},Dt=Symbol.for("vuetify:v-window"),Ct=Symbol.for("vuetify:v-window-group"),Vt=O({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},verticalArrows:[Boolean,String],touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},crossfade:Boolean,transitionDuration:Number,...We(),...Le(),...rt()},"VWindow"),at=Y()({name:"VWindow",directives:{vTouch:Oe},props:Vt(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:r}=n;const{themeClasses:a}=ot(e),{isRtl:t}=it(),{t:c}=De(),s=ta(e,Ct),u=w(),v=V(()=>t.value?!e.reverse:e.reverse),b=ee(!1),m=V(()=>{if(e.crossfade)return"v-window-crossfade-transition";const g=e.direction==="vertical"?"y":"x",P=(v.value?!b.value:b.value)?"-reverse":"";return`v-window-${g}${P}-transition`}),h=ee(0),k=w(void 0),y=V(()=>s.items.value.findIndex(g=>s.selected.value.includes(g.id)));be(y,(g,p)=>{const P=s.items.value.length,X=P-1;P<=2?b.value=g<p:g===X&&p===0?b.value=!0:g===0&&p===X?b.value=!1:b.value=g<p}),la(Dt,{transition:m,isReversed:b,transitionCount:h,transitionHeight:k,rootRef:u});const o=W(()=>e.continuous||y.value!==0),d=W(()=>e.continuous||y.value!==s.items.value.length-1);function f(){o.value&&s.prev()}function S(){d.value&&s.next()}const D=V(()=>{const g=[],p={icon:t.value?e.nextIcon:e.prevIcon,class:`v-window__${v.value?"right":"left"}`,onClick:s.prev,"aria-label":c("$vuetify.carousel.prev")};g.push(o.value?r.prev?r.prev({props:p}):l(T,p,null):x("div",null,null));const P={icon:t.value?e.prevIcon:e.nextIcon,class:`v-window__${v.value?"left":"right"}`,onClick:s.next,"aria-label":c("$vuetify.carousel.next")};return g.push(d.value?r.next?r.next({props:P}):l(T,P,null):x("div",null,null)),g}),M=V(()=>e.touch===!1?e.touch:{...{left:()=>{v.value?f():S()},right:()=>{v.value?S():f()},start:p=>{let{originalEvent:P}=p;P.stopPropagation()}},...e.touch===!0?{}:e.touch});return R(()=>$e(l(e.tag,{ref:u,class:U(["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover","v-window--vertical-arrows":!!e.verticalArrows,"v-window--crossfade":!!e.crossfade},a.value,e.class]),style:ue([e.style,e.transitionDuration&&!aa?{"--v-window-transition-duration":le(e.transitionDuration,"ms")}:void 0])},{default:()=>[x("div",{class:"v-window__container",style:{height:k.value}},[r.default?.({group:s}),e.showArrows!==!1&&x("div",{class:U(["v-window__controls",{"v-window__controls--left":e.verticalArrows==="left"||e.verticalArrows===!0},{"v-window__controls--right":e.verticalArrows==="right"}])},[D.value])]),r.additional?.({group:s})]}),[[Oe,M.value]])),{group:s}}}),Ga=O({...K(Vt(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),St=Y()({name:"VTabsWindow",props:Ga(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:r}=n;const a=mt(je,null),t=F(e,"modelValue"),c=V({get(){return t.value!=null||!a?t.value:a.items.value.find(s=>a.selected.value.includes(s.id))?.value},set(s){t.value=s}});return R(()=>{const s=at.filterProps(e);return l(at,I({_as:"VTabsWindow"},s,{modelValue:c.value,"onUpdate:modelValue":u=>c.value=u,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),r)}),{}}}),Pt=O({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...We(),...ia(),...ra()},"VWindowItem"),lt=Y()({name:"VWindowItem",directives:{vTouch:Oe},props:Pt(),emits:{"group:selected":e=>!0},setup(e,n){let{slots:r}=n;const a=mt(Dt),t=na(e,Ct),{isBooted:c}=sa();if(!a||!t)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const s=ee(!1),u=V(()=>c.value&&(a.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function v(){!s.value||!a||(s.value=!1,a.transitionCount.value>0&&(a.transitionCount.value-=1,a.transitionCount.value===0&&(a.transitionHeight.value=void 0)))}function b(){s.value||!a||(s.value=!0,a.transitionCount.value===0&&(a.transitionHeight.value=le(a.rootRef.value?.clientHeight)),a.transitionCount.value+=1)}function m(){v()}function h(o){s.value&&ua(()=>{!u.value||!s.value||!a||(a.transitionHeight.value=le(o.clientHeight))})}const k=V(()=>{const o=a.isReversed.value?e.reverseTransition:e.transition;return u.value?{name:typeof o!="string"?a.transition.value:o,onBeforeEnter:b,onAfterEnter:v,onEnterCancelled:m,onBeforeLeave:b,onAfterLeave:v,onLeaveCancelled:m,onEnter:h}:!1}),{hasContent:y}=oa(e,t.isSelected);return R(()=>l(Ye,{transition:k.value,disabled:!c.value},{default:()=>[$e(x("div",{class:U(["v-window-item",t.selectedClass.value,e.class]),style:ue(e.style)},[y.value&&r.default?.()]),[[da,t.isSelected.value]])]})),{groupItem:t}}}),Ja=O({...Pt()},"VTabsWindowItem"),me=Y()({name:"VTabsWindowItem",props:Ja(),setup(e,n){let{slots:r}=n;return R(()=>{const a=lt.filterProps(e);return l(lt,I({_as:"VTabsWindowItem"},a,{class:["v-tabs-window-item",e.class],style:e.style}),r)}),{}}});function qa(e){return e?e.map(n=>ha(n)?n:{text:n,value:n}):[]}const Ka=O({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...ya(xt(),["spaced"]),...ma({mandatory:"force",selectedClass:"v-tab-item--selected"}),...fa(),...Le()},"VTabs"),Qa=Y()({name:"VTabs",props:Ka(),emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:r,slots:a}=n;const t=F(e,"modelValue"),c=V(()=>qa(e.items)),{densityClasses:s}=ca(e),{backgroundColorClasses:u,backgroundColorStyles:v}=Ce(()=>e.bgColor),{scopeId:b}=ut();return va({VTab:{color:W(()=>e.color),direction:W(()=>e.direction),stacked:W(()=>e.stacked),fixed:W(()=>e.fixedTabs),sliderColor:W(()=>e.sliderColor),hideSlider:W(()=>e.hideSlider)}}),R(()=>{const m=Ge.filterProps(e),h=!!(a.window||e.items.length>0);return x(Ve,null,[l(Ge,I(m,{modelValue:t.value,"onUpdate:modelValue":k=>t.value=k,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},s.value,u.value,e.class],style:[{"--v-tabs-height":le(e.height)},v.value,e.style],role:"tablist",symbol:je},b,r),{default:()=>[a.default?.()??c.value.map(k=>a.tab?.({item:k})??l(fe,I(k,{key:k.text,value:k.value,spaced:e.spaced}),{default:a[`tab.${k.value}`]?()=>a[`tab.${k.value}`]?.({item:k}):void 0}))]}),h&&l(St,I({modelValue:t.value,"onUpdate:modelValue":k=>t.value=k,key:"tabs-window"},b),{default:()=>[c.value.map(k=>a.item?.({item:k})??l(me,{value:k.value},{default:()=>a[`item.${k.value}`]?.({item:k})})),a.window?.()]})])}),{}}}),Za={class:"button-group pa-3"},el={class:"mt-4"},tl={__name:"forcePlate",props:{user:{type:Object,default:()=>({})}},setup(e,{expose:n}){const r=w(!1);function a(){r.value=!r.value,D()}const t=w("cmj"),c=[{label:"系統重量",value:"系統重量"},{label:"跳躍高度",value:"跳躍高度"},{label:"下蹲深度",value:"下蹲深度"},{label:"峰值推進力量",value:"峰值推進力量"},{label:"相對峰值推進力量",value:"相對峰值推進力量"},{label:"峰值制動力量",value:"峰值制動力量"},{label:"相對峰值制動力量",value:"相對峰值制動力量"},{label:"制動發力率",value:"制動發力率"},{label:"峰值速度",value:"峰值速度"},{label:"離地耗時",value:"離地耗時"},{label:"峰值功率",value:"峰值功率"},{label:"相對峰值功率",value:"相對峰值功率"},{label:"修正式",value:"修正式"},{label:"反應肌力指數",value:"反應肌力指數"},{label:"相對推進淨值衝量",value:"相對推進淨值衝量"},{label:"相對制動淨值衝量",value:"相對制動淨值衝量"}],s=w([]);function u(g){const p=s.value.indexOf(g);p===-1?s.value.push(g):s.value.splice(p,1)}const v=e,b=w(null);let m=null;const h=w(["2025-01","2025-02","2025-03","2025-04","2025-05"]),k=["A專項體能","B一般體能","C重量訓練","D自助練習"],y=w([[120,200,150,80,70],[60,80,70,50,40],[30,40,20,10,5],[30,40,20,10,5]]),o=w(["轉換率"]),f=w([{name:o,type:"line",data:[3.2,4.1,3.7,2.9,3.4],yAxisIndex:1}]);function S(){const g=r.value?k.map((p,P)=>({name:p,type:"bar",stack:"bars_stack",data:y.value[P],emphasis:{focus:"series"}})):[];return{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:[...r.value?k:[],...o.value],top:0},grid:{left:"6%",right:"6%",bottom:"8%",containLabel:!0},xAxis:{type:"category",data:h.value},yAxis:[{type:"value",name:"數量（柱狀）",position:"left"},{type:"value",name:"比率（折線）",position:"right",axisLabel:{formatter:"{value}"}}],series:[...g,...f.value]}}ne(()=>{});function D(){m?.dispose(),m=null,m=ae(b.value),m.setOption(S()),window.addEventListener("resize",()=>m&&m.resize())}Se(()=>{m&&(window.removeEventListener("resize",()=>m&&m.resize()),m.dispose(),m=null)});function M(g){te.getForcePlate({userId:v.user.id,sDate:g.sDate,eDate:g.eDate,pickedDataList:s.value}).then(p=>{h.value=p.data.categories,y.value=p.data.barSeriesData,f.value=p.data.lineSeries,D()}).catch(p=>{console.error("Error fetching Force Plate data:",p)})}return n({handleSearch:M}),(g,p)=>(L(),E(ie,{fluid:"",class:"pa-0"},{default:i(()=>[l(z,{height:"200"},{default:i(()=>[l(Qa,{color:"danger",modelValue:t.value,"onUpdate:modelValue":p[0]||(p[0]=P=>t.value=P)},{default:i(()=>[l(fe,{value:"cmj"},{default:i(()=>[...p[3]||(p[3]=[_("反向跳CMJ",-1)])]),_:1}),l(fe,{value:"sj"},{default:i(()=>[...p[4]||(p[4]=[_("蹲踞跳SJ",-1)])]),_:1}),l(fe,{value:"rj"},{default:i(()=>[...p[5]||(p[5]=[_("連續跳RJ",-1)])]),_:1}),l(fe,{value:"iso"},{default:i(()=>[...p[6]||(p[6]=[_("等長測試ISO TEST",-1)])]),_:1})]),_:1},8,["modelValue"]),l(ga),l(St,{modelValue:t.value,"onUpdate:modelValue":p[1]||(p[1]=P=>t.value=P)},{default:i(()=>[l(me,{value:"cmj"},{default:i(()=>[x("div",Za,[(L(),ct(Ve,null,ba(c,P=>l(T,{key:P.value,class:"toggle-btn",color:s.value.includes(P.value)?"primary":"secondary",variant:s.value.includes(P.value)?"flat":"outlined",onClick:X=>u(P.value)},{default:i(()=>[_(H(P.label),1)]),_:2},1032,["color","variant","onClick"])),64))]),x("div",el," 已選擇："+H(s.value),1)]),_:1}),l(me,{value:"sj"},{default:i(()=>[l(ye,{class:"pa-5"},{default:i(()=>[...p[7]||(p[7]=[_("敬請期待",-1)])]),_:1})]),_:1}),l(me,{value:"rj"},{default:i(()=>[l(ye,{class:"pa-5"},{default:i(()=>[...p[8]||(p[8]=[_("敬請期待",-1)])]),_:1})]),_:1}),l(me,{value:"iso"},{default:i(()=>[l(ye,{class:"pa-5"},{default:i(()=>[...p[9]||(p[9]=[_("敬請期待",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(z,{outlined:"",class:"pa-2 my-4"},{default:i(()=>[l(T,{onClick:p[2]||(p[2]=P=>a()),color:r.value?"primary":""},{default:i(()=>[...p[10]||(p[10]=[_("各向度趨勢分析",-1)])]),_:1},8,["color"]),l(q,null,{default:i(()=>[x("div",{ref_key:"chartRef",ref:b,style:{width:"100%",height:"400px"}},null,512)]),_:1})]),_:1})]),_:1}))}},al=he(tl,[["__scopeId","data-v-29d16154"]]),ll={__name:"index",setup(e){ne(()=>{te.getMemberList().then(d=>{b.value=d.data})});const n=w(),r=w([]),a=w(new Date(Date.now()-720*60*60*1e3).toISOString().slice(0,10)),t=w(new Date().toISOString().slice(0,10)),c=V(()=>{const d=u.find(f=>f.value===v.value);return d?d.datePickerType:"date"}),s=V(()=>{const d=u.find(f=>f.value===v.value);return d?d.memberPickerType:"single"}),u=[{title:"ACWR個人分析",value:"acwrPersonal",datePickerType:"date",memberPickerType:"single"},{title:"ACWR比較分析",value:"acwrCompare",datePickerType:"date",memberPickerType:"multiple"},{title:"CMJ比較分析",value:"cmjAnalysis",datePickerType:"month",memberPickerType:"multiple"},{title:"測力板",value:"forcePlate",datePickerType:"date",memberPickerType:"single"}],v=w("acwrPersonal"),b=w([]),m=w(null),h=w(null),k=w(null),y=w(null);function o(d){switch(v.value){case"acwrPersonal":n.value=d.selectedMember,m.value.handleSearch(d);break;case"acwrCompare":r.value=d.selectedMembers,h.value.handleSearch(d);break;case"cmjAnalysis":k.value.handleSearch(d);break;case"forcePlate":y.value.handleSearch(d);break}}return(d,f)=>(L(),E(z,{class:"board-card",outlined:""},{default:i(()=>[l(q,null,{default:i(()=>[l(At,{onSearch:o,"show-date-picker":B(v)!="cmjAnalysis",sDate:B(a),"date-picker-type":B(c),"member-picker-type":B(s),"member-options":B(b),eDate:B(t)},{icon:i(()=>[l(Ie,null,{default:i(()=>[...f[1]||(f[1]=[_("mdi-arm-flex",-1)])]),_:1})]),title:i(()=>[...f[2]||(f[2]=[_(" 體能監控 ",-1)])]),default:i(()=>[l(Be,{"hide-details":"auto",variant:"outlined",modelValue:B(v),"onUpdate:modelValue":[f[0]||(f[0]=S=>ka(v)?v.value=S:null),d.onSelectChange],items:u,label:"選擇分析項目",density:"compact",style:{"min-width":"200px"}},null,8,["modelValue","onUpdate:modelValue"]),f[3]||(f[3]=x("select",null,[x("option",null,"網球隊")],-1))]),_:1},8,["show-date-picker","sDate","date-picker-type","member-picker-type","member-options","eDate"]),B(v)==="acwrPersonal"?(L(),E($a,{key:0,ref_key:"acwrPersonalRef",ref:m,user:B(n)},null,8,["user"])):pe("",!0),B(v)==="acwrCompare"?(L(),E(Wa,{key:1,ref_key:"acwrCompareRef",ref:h,userList:B(r)},null,8,["userList"])):pe("",!0),B(v)==="cmjAnalysis"?(L(),E(ja,{key:2,ref_key:"cmjAnalysisRef",ref:k,userList:B(r)},null,8,["userList"])):pe("",!0),B(v)==="forcePlate"?(L(),E(al,{key:3,ref_key:"forcePlateRef",ref:y,user:B(n)},null,8,["user"])):pe("",!0)]),_:1})]),_:1}))}},ml=he(ll,[["__scopeId","data-v-d911d39b"]]);export{ml as default};
