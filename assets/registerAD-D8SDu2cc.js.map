{"version":3,"file":"registerAD-D8SDu2cc.js","sources":["../../src/views/signIn/registerAD.vue"],"sourcesContent":["<template>\r\n  <v-form @submit.prevent=\"submit\" v-model=\"valid\" class=\"mx-auto register-form\">\r\n    <h2 class=\"text-center mb-3\">AD帳號註冊</h2>\r\n\r\n    <v-text-field hide-details=\"auto\" v-model=\"form.email\" density=\"compact\" label=\"帳號/信箱\"\r\n      prepend-inner-icon=\"mdi-email\" variant=\"solo\" required class=\"register-item mb-2\" :rules=\"[emailRule]\">\r\n      <template #label>\r\n        <span class=\"text-danger\">*</span>帳號/信箱\r\n      </template>\r\n    </v-text-field>\r\n    <v-text-field hide-details=\"auto\" v-model=\"form.pw\" :type=\"showPw ? 'text' : 'password'\" density=\"compact\"\r\n      label=\"密碼\" prepend-inner-icon=\"mdi-lock\" variant=\"solo\" required class=\"register-item mb-2\" :rules=\"[pwRule]\">\r\n      <template #label>\r\n        <span class=\"text-danger\">*</span>密碼\r\n      </template>\r\n      <template #append-inner>\r\n        <v-icon @click=\"letPwVisible\" class=\"cursor-pointer\">\r\n          {{ showPw ? 'mdi-eye' : 'mdi-eye-off' }}\r\n        </v-icon>\r\n      </template>\r\n    </v-text-field>\r\n\r\n    <v-btn type=\"submit\" variant=\"flat\" color=\"primary\" block class=\"mt-5\" :loading=\"loading\">\r\n      AD帳號驗證\r\n    </v-btn>\r\n\r\n    <div class=\"or\">或</div>\r\n    <router-link to=\"/sign-in\" class=\"text-decoration-none\">回登入</router-link>\r\n  </v-form>\r\n</template>\r\n\r\n<script setup>\r\nimport { authentication } from \"@/requests\";\r\nimport { useReCaptcha } from \"vue-recaptcha-v3\";\r\n\r\nconst router = useRouter();\r\nconst { executeRecaptcha } = useReCaptcha();\r\n\r\nconst loading = ref(false);\r\nconst valid = ref(true);\r\nconst showPw = ref(false);\r\nconst showConfirmPw = ref(false);\r\n\r\nconst form = ref({\r\n  email: \"\",\r\n  pw: \"\",\r\n});\r\n\r\nfunction letPwVisible() {\r\n  showPw.value = !showPw.value;\r\n}\r\nconst emailRule = (value) => {\r\n  const pattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return pattern.test(value) || '請輸入有效的電子郵件地址';\r\n};\r\nconst pwRule = (value) => {\r\n  const pattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[\\W_]).{12,30}$/;\r\n  return pattern.test(value) || '密碼需包含小寫英文、大寫英文、數字及符號，且長度為12~30個字';\r\n};\r\n\r\n\r\nconst submit = async () => {\r\n  const rules = [emailRule, pwRule];\r\n  for (const rule of rules) {\r\n    const result = rule(form.value[Object.keys(form.value).find(key => rule === eval(key + 'Rule'))]);\r\n    if (result !== true) {\r\n      alert(result);\r\n      return;\r\n    }\r\n  }\r\n  loading.value = true;\r\n  router.push('/sign-in/registerADReason');\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.register-form {\r\n  min-width: 60%;\r\n}\r\n\r\n.register-item {  \r\n  \r\n  border-radius: 10px !important;\r\n  margin-top: 18px;\r\n}\r\n\r\n.register-item .v-field {\r\n  height: 25px;\r\n}\r\n.register-item .v-input__control {\r\n  box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.5) !important;\r\n  background-color: white;\r\n}\r\n:global(.right .register-item .v-input__details .v-messages__message) {\r\n  color: lightcoral !important;\r\n}\r\n\r\n:global(.register-item .v-field) {\r\n  border-radius: 10px !important;\r\n}\r\n\r\n:global(.right .register-item .v-input__control *) {\r\n  color: gray !important;\r\n}\r\n\r\n:global(.right .register-item .text-danger) {\r\n  color: red !important;\r\n}\r\n</style>"],"names":["useReCaptcha","value","_createBlock","_component_v_form","_unref","$event","_cache","_createElementVNode","_createVNode","_component_v_text_field","_component_v_icon","_component_v_btn","_component_router_link"],"mappings":"+dAmCA,MAAM,OAAS,UAAS,EAClB,CAAE,gBAAgB,EAAKA,0BAAAA,eAEvB,QAAU,IAAI,EAAK,EACnB,MAAQ,IAAI,EAAI,EAChB,OAAS,IAAI,EAAK,EACF,IAAI,EAAK,EAE/B,MAAM,KAAO,IAAI,CACf,MAAO,GACP,GAAI,EACN,CAAC,EAED,SAAS,cAAe,CACtB,OAAO,MAAQ,CAAC,OAAO,KACzB,CACA,MAAM,UAAaC,GACD,6BACD,KAAKA,CAAK,GAAK,eAE1B,OAAUA,GACE,sDACD,KAAKA,CAAK,GAAK,mCAI1B,OAAS,SAAY,CACzB,MAAM,MAAQ,CAAC,UAAW,MAAM,EAChC,UAAW,QAAQ,MAAO,CACxB,MAAM,OAAS,KAAK,KAAK,MAAM,OAAO,KAAK,KAAK,KAAK,EAAE,KAAK,KAAO,OAAS,KAAK,IAAM,MAAM,CAAC,CAAC,CAAC,EAChG,GAAI,SAAW,GAAM,CACnB,MAAM,MAAM,EACZ,MACF,CACF,CACA,QAAQ,MAAQ,GAChB,OAAO,KAAK,2BAA2B,CACzC,2EAvEEC,YA2BSC,MAAA,CA3BA,uBAAgB,OAAM,CAAA,SAAA,CAAA,aAAWC,MAAA,KAAA,oDAAA,MAAK,MAAAC,EAAA,MAAE,MAAM,0CACrD,IAAwC,CAAxCC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,gBAAwC,KAAA,CAApC,MAAM,kBAAkB,EAAC,SAAM,EAAA,GAEnCC,YAKeC,WAAA,CALD,eAAa,OAAgB,WAAAL,MAAA,IAAA,EAAK,MAAL,sBAAAE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAD,GAAAD,MAAA,IAAA,EAAK,MAAKC,GAAE,QAAQ,UAAU,MAAM,QAC7E,qBAAmB,YAAY,QAAQ,OAAO,SAAA,GAAS,MAAM,qBAAsB,OAAQ,SAAS,IACzF,cACT,IAAkC,CAAA,GAAAC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAAlCC,gBAAkC,OAAA,CAA5B,MAAM,aAAa,EAAC,IAAC,EAAA,kBAAO,SACpC,EAAA,qCAEFC,YAUeC,WAAA,CAVD,eAAa,OAAgB,WAAAL,MAAA,IAAA,EAAK,GAAL,sBAAAE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAD,GAAAD,MAAA,IAAA,EAAK,GAAEC,GAAG,KAAMD,MAAA,MAAA,EAAM,OAAA,WAAwB,QAAQ,UAC/F,MAAM,KAAK,qBAAmB,WAAW,QAAQ,OAAO,SAAA,GAAS,MAAM,qBAAsB,OAAQ,MAAM,IAChG,cACT,IAAkC,CAAA,GAAAE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAAlCC,gBAAkC,OAAA,CAA5B,MAAM,aAAa,EAAC,IAAC,EAAA,kBAAO,MACpC,EAAA,MACW,uBACT,IAES,CAFTC,YAESE,MAAA,CAFA,QAAO,aAAc,MAAM,mCAClC,IAAwC,iCAArCN,MAAA,MAAA,EAAM,UAAA,aAAA,EAAA,CAAA,kDAKfI,YAEQG,KAAA,CAFD,KAAK,SAAS,QAAQ,OAAO,MAAM,UAAU,MAAA,GAAM,MAAM,OAAQ,QAASP,MAAA,OAAA,oBAAS,IAE1F,CAAA,GAAAE,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,iBAF0F,WAE1F,EAAA,0BAEAA,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,gBAAuB,MAAA,CAAlB,MAAM,IAAI,EAAC,IAAC,EAAA,GACjBC,YAAyEI,EAAA,CAA5D,GAAG,WAAW,MAAM,yCAAuB,IAAG,CAAA,GAAAN,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,iBAAH,MAAG,EAAA"}