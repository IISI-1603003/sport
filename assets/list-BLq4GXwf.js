import{f as v,j as w,o as k,w as o,e as l,d as x,m as p,u,z as U,n as $,h as A,a as F,A as z,b as E,F as N}from"./index-DqmTDoDs.js";import{_ as O,s as W}from"./delete-alert-icon-C4WYVWpg.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as C,a as _,b as q,c as D}from"./VCard-CgHR1yKO.js";import{V as d}from"./VBtn-piz4QD9w.js";import{V as I}from"./index-DqUa_ESF.js";import{V as y}from"./VTextField-DAyEXajC.js";import{V as B}from"./VTextarea-D8f_bUN4.js";import{V as R}from"./VSpacer-DEGOIKRM.js";import{V as T}from"./VDialog-1KMYd9pd.js";import{V as L,a as g}from"./VRow-DeIXmLbU.js";import{V as M}from"./VDataTable-9B-cyb49.js";import"./VAvatar-Du42SJ0L.js";import"./index-CVc2CCsc.js";import"./forwardRefs-hYDfs0pe.js";/* empty css              */import"./VOverlay-knTbxnoM.js";import"./scopeId-DMsoizje.js";import"./VSelect-Dxefn8kq.js";import"./VList-B4Eljeyq.js";const P={__name:"create",emits:["add-to-list"],setup(V,{emit:r}){const a=v({id:"",number:"",text:"",info:""}),i=r,s=v(!1);function m(){a.value.id=crypto.randomUUID(),i("add-to-list",{...a.value}),s.value=!1}function c(){a.value.number="",a.value.text="",a.value.info="",s.value=!1}return(b,t)=>(k(),w(T,{modelValue:u(s),"onUpdate:modelValue":t[6]||(t[6]=e=>$(s)?s.value=e:null),"max-width":"500"},{activator:o(({props:e})=>[l(d,U(e,{title:"新增",color:"success"}),{default:o(()=>[...t[7]||(t[7]=[p("+新增",-1)])]),_:1},16)]),default:o(({isActive:e})=>[l(C,{class:"review-border"},{default:o(()=>[l(_,{class:"d-flex justify-space-between align-center"},{default:o(()=>[t[9]||(t[9]=x("span",{class:"text-blue"},"新增角色",-1)),l(d,{icon:"",variant:"text",onClick:t[0]||(t[0]=n=>c())},{default:o(()=>[l(I,null,{default:o(()=>[...t[8]||(t[8]=[p("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),l(q,null,{default:o(()=>[l(y,{"hide-details":"auto",modelValue:u(a).number,"onUpdate:modelValue":t[1]||(t[1]=n=>u(a).number=n),density:"compact",label:"角色編號","prepend-inner-icon":"mdi-music-accidental-sharp",variant:"solo",required:"",class:"mb-5"},{label:o(()=>[...t[10]||(t[10]=[p(" 角色編號 ",-1)])]),_:1},8,["modelValue"]),l(y,{"hide-details":"auto",modelValue:u(a).text,"onUpdate:modelValue":t[2]||(t[2]=n=>u(a).text=n),density:"compact",label:"角色名稱","prepend-inner-icon":"mdi-account",variant:"solo",required:"",class:"mb-5"},{label:o(()=>[...t[11]||(t[11]=[p(" 角色名稱 ",-1)])]),_:1},8,["modelValue"]),l(B,{modelValue:u(a).info,"onUpdate:modelValue":t[3]||(t[3]=n=>u(a).info=n),label:"描述",density:"compact",variant:"solo",required:"",placeholder:"描述"},null,8,["modelValue"])]),_:1}),l(D,null,{default:o(()=>[l(R),l(d,{text:"取消",variant:"outlined",color:"grey-darken-2",onClick:t[4]||(t[4]=n=>c())}),l(d,{text:"確認",variant:"outlined",color:"primary",onClick:t[5]||(t[5]=n=>m())})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},S=j(P,[["__scopeId","data-v-92e926d3"]]),G={__name:"edit",props:{role:{type:Object,required:!0,default:()=>({id:"",number:"",text:"",info:""})}},emits:["edit-role"],setup(V,{emit:r}){const a=V,i=v({id:"",number:"",text:"",info:""});A(()=>{i.value.id=a.role.id,i.value.number=a.role.number,i.value.text=a.role.text,i.value.info=a.role.info});const s=v(!1),m=r;function c(){m("edit-role",{...i.value}),s.value=!1}function b(){i.value.id=a.role.id,i.value.number=a.role.number,i.value.text=a.role.text,i.value.info=a.role.info,s.value=!1}return(t,e)=>(k(),w(T,{modelValue:u(s),"onUpdate:modelValue":e[6]||(e[6]=n=>$(s)?s.value=n:null),"max-width":"500"},{activator:o(({props:n})=>[l(d,U(n,{title:"編輯",icon:"mdi-pencil",size:"small",variant:"text"}),null,16)]),default:o(({isActive:n})=>[l(C,{class:"review-border"},{default:o(()=>[l(_,{class:"d-flex justify-space-between align-center"},{default:o(()=>[e[8]||(e[8]=x("span",{class:"text-blue"},"編輯角色",-1)),l(d,{icon:"",variant:"text",onClick:e[0]||(e[0]=f=>b())},{default:o(()=>[l(I,null,{default:o(()=>[...e[7]||(e[7]=[p("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),l(q,null,{default:o(()=>[l(y,{"hide-details":"auto",modelValue:u(i).number,"onUpdate:modelValue":e[1]||(e[1]=f=>u(i).number=f),density:"compact",label:"角色編號","prepend-inner-icon":"mdi-music-accidental-sharp",variant:"solo",required:"",class:"mb-5"},{label:o(()=>[...e[9]||(e[9]=[p(" 角色編號 ",-1)])]),_:1},8,["modelValue"]),l(y,{"hide-details":"auto",modelValue:u(i).text,"onUpdate:modelValue":e[2]||(e[2]=f=>u(i).text=f),density:"compact",label:"角色名稱","prepend-inner-icon":"mdi-account",variant:"solo",required:"",class:"mb-5"},{label:o(()=>[...e[10]||(e[10]=[p(" 角色名稱 ",-1)])]),_:1},8,["modelValue"]),l(B,{modelValue:u(i).info,"onUpdate:modelValue":e[3]||(e[3]=f=>u(i).info=f),label:"描述",density:"compact",variant:"solo",required:"",placeholder:"描述"},null,8,["modelValue"])]),_:1}),l(D,null,{default:o(()=>[l(R),l(d,{text:"取消",variant:"outlined",color:"grey-darken-2",onClick:e[4]||(e[4]=f=>b())}),l(d,{text:"確認",variant:"outlined",color:"primary",onClick:e[5]||(e[5]=f=>c())})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},H=j(G,[["__scopeId","data-v-9cf2f8b0"]]),J={__name:"delete",props:{role:{type:Object,required:!0,default:()=>({id:"",number:"",text:"",info:""})}},emits:["delete-role"],setup(V,{emit:r}){const a=V,i=r,s=v({id:"",number:"",text:"",info:""});A(()=>{s.value.id=a.role.id});const m=v(!1);function c(){i("delete-role",a.role.id),m.value=!1}function b(){m.value=!1}return(t,e)=>(k(),w(T,{modelValue:u(m),"onUpdate:modelValue":e[3]||(e[3]=n=>$(m)?m.value=n:null),"max-width":"500"},{activator:o(({props:n})=>[l(d,U(n,{title:"刪除",icon:"mdi-trash-can",size:"small",variant:"text"}),null,16)]),default:o(({isActive:n})=>[l(C,null,{default:o(()=>[l(_,{class:"d-flex justify-space-between align-center"},{default:o(()=>[e[5]||(e[5]=x("span",{class:"text-blue"},null,-1)),l(d,{icon:"",variant:"text",onClick:e[0]||(e[0]=f=>b())},{default:o(()=>[l(I,null,{default:o(()=>[...e[4]||(e[4]=[p("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),l(q,null,{default:o(()=>[...e[6]||(e[6]=[x("div",{class:"delete-info"},[x("img",{src:O,alt:"Delete Alert Icon",class:"delete-alert"}),x("span",null,[p("是否確認"),x("span",{class:"text-red"},"刪除"),p("?")])],-1)])]),_:1}),l(D,{class:"d-flex justify-center mb-5"},{default:o(()=>[l(d,{text:"取消",variant:"outlined",color:"grey-darken-2",onClick:e[1]||(e[1]=f=>b())}),l(R,{style:{flex:"0.25"}}),l(d,{text:"確認",variant:"outlined",color:"primary",onClick:e[2]||(e[2]=f=>c())})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},K=j(J,[["__scopeId","data-v-bfbba117"]]),ce={__name:"list",setup(V){const r=v([]);A(()=>{F.get("api/roles").then(t=>{r.value=t.data[0].children,console.log(r.value),W("roles",r.value,60)})});const a=v(""),i=z(()=>r.value.filter(t=>!a.value||t.number&&t.number.includes(a.value)||t.text&&t.text.includes(a.value)||t.info&&t.info.includes(a.value))),s=v([{title:"角色編號",key:"number"},{title:"角色名稱",key:"text"},{title:"描述",key:"info"},{title:"編輯",key:"edit",sortable:!1},{title:"刪除",key:"delete",sortable:!1}]);function m(t){r.value.push(t)}function c(t){const e=r.value.findIndex(n=>n.id===t.id);e!==-1&&(r.value[e]={...t})}function b(t){r.value=r.value.filter(e=>e.id!==t)}return(t,e)=>(k(),E(N,null,[l(L,{class:"mt-1"},{default:o(()=>[l(g,{cols:"4"},{default:o(()=>[l(y,{label:"搜尋",modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=n=>a.value=n),density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1}),l(g,{cols:"4"}),l(g,{cols:"4",class:"d-flex justify-end"},{default:o(()=>[l(S,{onAddToList:m})]),_:1})]),_:1}),l(C,{class:"rounded-lg elevation-3"},{default:o(()=>[l(M,{headers:s.value,items:i.value,density:"comfortable",class:"cyan-header"},{"item.edit":o(({item:n})=>[l(H,{role:n,onEditRole:c},null,8,["role"])]),"item.delete":o(({item:n})=>[l(K,{role:n,onDeleteRole:b},null,8,["role"])]),_:1},8,["headers","items"])]),_:1})],64))}};export{ce as default};
