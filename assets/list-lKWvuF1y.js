import{f as v,j as $,o as k,w as o,e as l,d as V,m as p,u,y as w,n as U,h as T,a as F,z,b as E,F as N,t as O}from"./index-YoOYIYhl.js";import{_ as W,s as S}from"./delete-alert-icon-C4WYVWpg.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as C,a as j,b as A,c as D}from"./VCard-BoE4UQs3.js";import{V as d}from"./VBtn-BoYJvvf3.js";import{V as q}from"./index-C7nfzMpl.js";import{V as y}from"./VTextField-Ct49Ao8i.js";import{V as B}from"./VTextarea-DARSTU50.js";import{V as I}from"./VSpacer-DddgVSoQ.js";import{V as R}from"./VDialog-BSkNhZq1.js";import{V as L,a as g}from"./VRow-D6SN89O4.js";import{V as M,a as P}from"./VToolbar-CKl0cmyP.js";import{V as G}from"./VDataTable-BQRgH7nk.js";import"./VAvatar-DEknT8tg.js";import"./index-BfXC6dQ1.js";import"./forwardRefs-B9O2pm3w.js";/* empty css              */import"./VOverlay-DPnezZc_.js";import"./scopeId-DMVw-0Yq.js";import"./VSelect-DiAXwcwV.js";import"./VList-C4kwG3hb.js";const H={__name:"create",emits:["add-to-list"],setup(x,{emit:r}){const a=v({id:"",number:"",text:"",info:""}),i=r,s=v(!1);function m(){a.value.id=crypto.randomUUID(),i("add-to-list",{...a.value}),s.value=!1}function b(){a.value.number="",a.value.text="",a.value.info="",s.value=!1}return(c,t)=>(k(),$(R,{modelValue:u(s),"onUpdate:modelValue":t[6]||(t[6]=e=>U(s)?s.value=e:null),"max-width":"500"},{activator:o(({props:e})=>[l(d,w(e,{title:"新增",color:"success"}),{default:o(()=>[...t[7]||(t[7]=[p("+新增",-1)])]),_:1},16)]),default:o(({isActive:e})=>[l(C,{class:"review-border"},{default:o(()=>[l(j,{class:"d-flex justify-space-between align-center"},{default:o(()=>[t[9]||(t[9]=V("span",{class:"text-blue"},"新增角色",-1)),l(d,{icon:"",variant:"text",onClick:t[0]||(t[0]=n=>b())},{default:o(()=>[l(q,null,{default:o(()=>[...t[8]||(t[8]=[p("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),l(A,null,{default:o(()=>[l(y,{"hide-details":"auto",modelValue:u(a).number,"onUpdate:modelValue":t[1]||(t[1]=n=>u(a).number=n),density:"compact",label:"角色編號","prepend-inner-icon":"mdi-music-accidental-sharp",variant:"solo",required:"",class:"mb-5"},{label:o(()=>[...t[10]||(t[10]=[p(" 角色編號 ",-1)])]),_:1},8,["modelValue"]),l(y,{"hide-details":"auto",modelValue:u(a).text,"onUpdate:modelValue":t[2]||(t[2]=n=>u(a).text=n),density:"compact",label:"角色名稱","prepend-inner-icon":"mdi-account",variant:"solo",required:"",class:"mb-5"},{label:o(()=>[...t[11]||(t[11]=[p(" 角色名稱 ",-1)])]),_:1},8,["modelValue"]),l(B,{modelValue:u(a).info,"onUpdate:modelValue":t[3]||(t[3]=n=>u(a).info=n),label:"描述",density:"compact",variant:"solo",required:"",placeholder:"描述"},null,8,["modelValue"])]),_:1}),l(D,null,{default:o(()=>[l(I),l(d,{text:"取消",variant:"outlined",color:"grey-darken-2",onClick:t[4]||(t[4]=n=>b())}),l(d,{text:"確認",variant:"outlined",color:"primary",onClick:t[5]||(t[5]=n=>m())})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},J=_(H,[["__scopeId","data-v-92e926d3"]]),K={__name:"edit",props:{role:{type:Object,required:!0,default:()=>({id:"",number:"",text:"",info:""})}},emits:["edit-role"],setup(x,{emit:r}){const a=x,i=v({id:"",number:"",text:"",info:""});T(()=>{i.value.id=a.role.id,i.value.number=a.role.number,i.value.text=a.role.text,i.value.info=a.role.info});const s=v(!1),m=r;function b(){m("edit-role",{...i.value}),s.value=!1}function c(){i.value.id=a.role.id,i.value.number=a.role.number,i.value.text=a.role.text,i.value.info=a.role.info,s.value=!1}return(t,e)=>(k(),$(R,{modelValue:u(s),"onUpdate:modelValue":e[6]||(e[6]=n=>U(s)?s.value=n:null),"max-width":"500"},{activator:o(({props:n})=>[l(d,w(n,{title:"編輯",icon:"mdi-pencil",size:"small",variant:"text"}),null,16)]),default:o(({isActive:n})=>[l(C,{class:"review-border"},{default:o(()=>[l(j,{class:"d-flex justify-space-between align-center"},{default:o(()=>[e[8]||(e[8]=V("span",{class:"text-blue"},"編輯角色",-1)),l(d,{icon:"",variant:"text",onClick:e[0]||(e[0]=f=>c())},{default:o(()=>[l(q,null,{default:o(()=>[...e[7]||(e[7]=[p("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),l(A,null,{default:o(()=>[l(y,{"hide-details":"auto",modelValue:u(i).number,"onUpdate:modelValue":e[1]||(e[1]=f=>u(i).number=f),density:"compact",label:"角色編號","prepend-inner-icon":"mdi-music-accidental-sharp",variant:"solo",required:"",class:"mb-5"},{label:o(()=>[...e[9]||(e[9]=[p(" 角色編號 ",-1)])]),_:1},8,["modelValue"]),l(y,{"hide-details":"auto",modelValue:u(i).text,"onUpdate:modelValue":e[2]||(e[2]=f=>u(i).text=f),density:"compact",label:"角色名稱","prepend-inner-icon":"mdi-account",variant:"solo",required:"",class:"mb-5"},{label:o(()=>[...e[10]||(e[10]=[p(" 角色名稱 ",-1)])]),_:1},8,["modelValue"]),l(B,{modelValue:u(i).info,"onUpdate:modelValue":e[3]||(e[3]=f=>u(i).info=f),label:"描述",density:"compact",variant:"solo",required:"",placeholder:"描述"},null,8,["modelValue"])]),_:1}),l(D,null,{default:o(()=>[l(I),l(d,{text:"取消",variant:"outlined",color:"grey-darken-2",onClick:e[4]||(e[4]=f=>c())}),l(d,{text:"確認",variant:"outlined",color:"primary",onClick:e[5]||(e[5]=f=>b())})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},Q=_(K,[["__scopeId","data-v-9cf2f8b0"]]),X={__name:"delete",props:{role:{type:Object,required:!0,default:()=>({id:"",number:"",text:"",info:""})}},emits:["delete-role"],setup(x,{emit:r}){const a=x,i=r,s=v({id:"",number:"",text:"",info:""});T(()=>{s.value.id=a.role.id});const m=v(!1);function b(){i("delete-role",a.role.id),m.value=!1}function c(){m.value=!1}return(t,e)=>(k(),$(R,{modelValue:u(m),"onUpdate:modelValue":e[3]||(e[3]=n=>U(m)?m.value=n:null),"max-width":"500"},{activator:o(({props:n})=>[l(d,w(n,{title:"刪除",icon:"mdi-trash-can",size:"small",variant:"text"}),null,16)]),default:o(({isActive:n})=>[l(C,null,{default:o(()=>[l(j,{class:"d-flex justify-space-between align-center"},{default:o(()=>[e[5]||(e[5]=V("span",{class:"text-blue"},null,-1)),l(d,{icon:"",variant:"text",onClick:e[0]||(e[0]=f=>c())},{default:o(()=>[l(q,null,{default:o(()=>[...e[4]||(e[4]=[p("mdi-close",-1)])]),_:1})]),_:1})]),_:1}),l(A,null,{default:o(()=>[...e[6]||(e[6]=[V("div",{class:"delete-info"},[V("img",{src:W,alt:"Delete Alert Icon",class:"delete-alert"}),V("span",null,[p("是否確認"),V("span",{class:"text-red"},"刪除"),p("?")])],-1)])]),_:1}),l(D,{class:"d-flex justify-center mb-5"},{default:o(()=>[l(d,{text:"取消",variant:"outlined",color:"grey-darken-2",onClick:e[1]||(e[1]=f=>c())}),l(I,{style:{flex:"0.25"}}),l(d,{text:"確認",variant:"outlined",color:"primary",onClick:e[2]||(e[2]=f=>b())})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},Y=_(X,[["__scopeId","data-v-bfbba117"]]),ye={__name:"list",setup(x){const r=v([]);T(()=>{F.get("api/roles").then(t=>{r.value=t.data[0].children,console.log(r.value),S("roles",r.value,60)})});const a=v(""),i=z(()=>r.value.filter(t=>!a.value||t.number&&t.number.includes(a.value)||t.text&&t.text.includes(a.value)||t.info&&t.info.includes(a.value))),s=v([{title:"角色編號",key:"number"},{title:"角色名稱",key:"text"},{title:"描述",key:"info"},{title:"編輯",key:"edit",sortable:!1},{title:"刪除",key:"delete",sortable:!1}]);function m(t){r.value.push(t)}function b(t){const e=r.value.findIndex(n=>n.id===t.id);e!==-1&&(r.value[e]={...t})}function c(t){r.value=r.value.filter(e=>e.id!==t)}return(t,e)=>(k(),E(N,null,[l(L,{class:"mt-1"},{default:o(()=>[l(g,{cols:"4"},{default:o(()=>[l(y,{label:"搜尋",modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=n=>a.value=n),density:"compact",variant:"outlined"},null,8,["modelValue"])]),_:1}),l(g,{cols:"4"}),l(g,{cols:"4",class:"d-flex justify-end"},{default:o(()=>[l(J,{onAddToList:m})]),_:1})]),_:1}),l(C,null,{default:o(()=>[l(M,null,{default:o(()=>[l(P,null,{default:o(()=>[p(O(t.$root.subTitle),1)]),_:1})]),_:1}),l(G,{headers:s.value,items:i.value,density:"comfortable"},{"item.edit":o(({item:n})=>[l(Q,{role:n,onEditRole:b},null,8,["role"])]),"item.delete":o(({item:n})=>[l(Y,{role:n,onDeleteRole:c},null,8,["role"])]),_:1},8,["headers","items"])]),_:1})],64))}};export{ye as default};
