import{a as z}from"./auth-BEDQBuTV.js";import{h as M,V as U,m as J,a as Q,b as W}from"./VMain-dJi1s3VV.js";import{P as _,Q as h,W as P,a as b,ax as S,ad as D,aw as R,bM as j,D as T,aT as E,b as s,C as x,aW as $,bN as K,b4 as O,aN as X,aS as q,bs as G,a8 as f,aX as H,b0 as Y,b1 as Z,V as y,aJ as ee,F as ae,d as v,bQ as A,K as te,h as B,l as F,o as w,w as i,k as N,R as se,e as re,r as le,u as k,bR as ne,bS as oe,x as ie,J as ue}from"./index-BxuKpZ1b.js";import{V as de,a as ce}from"./VRow-BTIbGMxG.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./layout-Dxxsq5WP.js";import"./VToolbar-Btrh3Csj.js";/* empty css              */const me=h({divider:[Number,String],...R()},"VBreadcrumbsDivider"),ve=_()({name:"VBreadcrumbsDivider",props:me(),setup(e,n){let{slots:a}=n;return P(()=>b("li",{"aria-hidden":"true",class:D(["v-breadcrumbs-divider",e.class]),style:S(e.style)},[a?.default?.()??e.divider])),{}}}),be=h({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...R(),...K(),...$({tag:"li"})},"VBreadcrumbsItem"),ge=_()({name:"VBreadcrumbsItem",props:be(),setup(e,n){let{slots:a,attrs:o}=n;const l=j(e,o),t=T(()=>e.active||l.isActive?.value),{textColorClasses:g,textColorStyles:c}=E(()=>t.value?e.activeColor:e.color);return P(()=>s(e.tag,{class:D(["v-breadcrumbs-item",{"v-breadcrumbs-item--active":t.value,"v-breadcrumbs-item--disabled":e.disabled,[`${e.activeClass}`]:t.value&&e.activeClass},g.value,e.class]),style:S([c.value,e.style]),"aria-current":t.value?"page":void 0},{default:()=>[l.isLink.value?b("a",x({class:"v-breadcrumbs-item--link",onClick:l.navigate},l.linkProps),[a.default?.()??e.title]):a.default?.()??e.title]})),{}}}),fe=h({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:Z,items:{type:Array,default:()=>[]},...R(),...Y(),...H(),...$({tag:"ul"})},"VBreadcrumbs"),Ce=_()({name:"VBreadcrumbs",props:fe(),setup(e,n){let{slots:a}=n;const{backgroundColorClasses:o,backgroundColorStyles:l}=O(()=>e.bgColor),{densityClasses:t}=X(e),{roundedClasses:g}=q(e);G({VBreadcrumbsDivider:{divider:f(()=>e.divider)},VBreadcrumbsItem:{activeClass:f(()=>e.activeClass),activeColor:f(()=>e.activeColor),color:f(()=>e.color),disabled:f(()=>e.disabled)}});const c=T(()=>e.items.map(r=>typeof r=="string"?{item:{title:r},raw:r}:{item:r,raw:r}));return P(()=>{const r=!!(a.prepend||e.icon);return s(e.tag,{class:D(["v-breadcrumbs",o.value,t.value,g.value,e.class]),style:S([l.value,e.style])},{default:()=>[r&&b("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[a.prepend?s(ee,{key:"prepend-defaults",disabled:!e.icon,defaults:{VIcon:{icon:e.icon,start:!0}}},a.prepend):s(y,{key:"prepend-icon",start:!0,icon:e.icon},null)]),c.value.map((V,u,C)=>{let{item:d,raw:m}=V;return b(ae,null,[a.item?.({item:d,index:u})??s(ge,x({key:u,disabled:u>=C.length-1},typeof d=="string"?{title:d}:d),{default:a.title?()=>a.title?.({item:d,index:u}):void 0}),u<C.length-1&&s(ve,null,{default:a.divider?()=>a.divider?.({item:m,index:u}):void 0})])}),a.default?.()]})}),{}}}),pe={__name:"breadcrumbs",props:["list"],setup(e){const n=e,a=v([]),o=A();return te(()=>n.list,l=>a.value=[{title:"首頁",to:"/"},...l.length?l.map(t=>({title:t.text,to:{name:t.url,params:o.params}})):o.matched.filter(t=>t.meta.title).map(t=>({title:t.meta.title,to:t.name}))]),(l,t)=>a.value.length>1?(w(),B(Ce,{key:0,items:a.value,class:"pb-0"},{prepend:i(()=>[s(y,null,{default:i(()=>[...t[0]||(t[0]=[N("mdi-home",-1)])]),_:1})]),divider:i(()=>[s(y,null,{default:i(()=>[...t[1]||(t[1]=[N("mdi-chevron-right",-1)])]),_:1})]),_:1},8,["items"])):F("",!0)}},Se={__name:"default",setup(e){const n=A(),a=v([]),o=v(null);v("/images/!logged-user.jpg");const{signOut:l,refreshToken:t,user:g}=z(),c=v(null),r=v(!0),V=m=>{a.value=m},{instance:u,recaptchaLoaded:C}=se.useReCaptcha();re(async()=>{t(),o.value=g().nickname,await C(),u.value.hideBadge()});const d=T(()=>n.meta.noContainer?{}:{class:"v-container",style:n.meta.noFluid?"":"max-width:100%"});return ue("menu",c),(m,p)=>{const L=le("router-view");return w(),B(W,null,{default:i(()=>[s(M,{name:o.value,"sign-out":k(l),drawer:r.value,onToggleDrawer:p[0]||(p[0]=I=>r.value=!r.value)},null,8,["name","sign-out","drawer"]),s(U,null,{default:i(()=>[s(k(J),{ref_key:"menu",ref:c,drawer:r.value,"onUpdate:drawer":p[1]||(p[1]=I=>r.value=I),onUpdate:V},null,8,["drawer"]),s(Q,null,{default:i(()=>[s(pe,{list:a.value},null,8,["list"]),b("div",ne(oe(k(d))),[m.$root.subTitle?(w(),B(de,{key:0},{default:i(()=>[s(ce,{cols:"12"},{default:i(()=>[b("h1",null,ie(m.$root.subTitle),1)]),_:1})]),_:1})):F("",!0),s(L)],16)]),_:1})]),_:1})]),_:1})}}};export{Se as default};
