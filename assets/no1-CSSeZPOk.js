import{i as F,S as H}from"./index-VhC7DcMB.js";import{P as K,C as T,_ as Y}from"./noData-DELPtDEJ.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{K as x,H as y,a as b,o as i,b as t,n as O,z as w,u,F as N,y as E,ao as L,d as r,j as k,e as v,N as A,f as Q,Q as J,aR as W,q as P,D as X,w as f,m as B,aS as Z,p as tt,aT as et,aU as lt,V as z,M as $}from"./index-C1z4PiDl.js";import{R as st}from"./radarChart-Dv3xD9N1.js";import{V as R}from"./VAlert-Bq8Jrx-V.js";import{V as nt,a as at,b as ot}from"./VCard-CYS_1bHD.js";import{V as rt}from"./VDialog-U9CmAI7S.js";import{V as it,a as j}from"./VRow-C8T6qQjI.js";import"./VSnackbar-BM3RUT0S.js";import"./layout-B4EBgczh.js";/* empty css              */const dt={class:"header-section pb-3"},ct={class:"skill-name"},ut={key:0,class:"average-score"},gt={class:"indicators-grid"},pt={class:"indicator-name"},ht={class:"indicator-score"},ft={__name:"skillBlock",props:{skillName:{type:String,required:!0}},emits:["indicator-click"],setup(_,{emit:a}){const g=x("latestDatas"),s=_,e=y(()=>{if(Object.keys(g.value).length>0||g.value.date){const p=K[s.skillName],o={...p,indicators:{}};for(const d in p.indicators)o.indicators[d]=g.value[d];return o}return{bgColor:"red",btnColor:"red",indicators:{xxx:0},name:"基礎"}}),m=y(()=>{if(!e.value||!e.value.indicators||Object.keys(e.value.indicators).length<=1)return-20;const p=Object.values(e.value.indicators).filter(d=>d>0);return p.reduce((d,n)=>d+n,0)/p.length});return(p,o)=>(i(),b("div",{class:"skill-container",style:L("background:"+u(e).bgColor),elevation:"2"},[t("div",dt,[t("div",ct,w(_.skillName),1),u(m)>0?(i(),b("div",ut,w(u(m).toFixed(1)),1)):O("",!0)]),t("div",gt,[(i(!0),b(N,null,E(u(e).indicators,(d,n)=>(i(),b("div",{key:n,class:"indicator-btn",style:L("background:"+u(e).btnColor)},[t("div",pt,w(n),1),t("div",ht,w(d),1)],4))),128))])],4))}},S=I(ft,[["__scopeId","data-v-36312ddb"]]),mt={class:"outter"},bt={class:"column"},_t={class:"column"},vt={class:"column"},yt={class:"right-up"},wt={__name:"indicatorContainer",setup(_){const a=x("latestDatas"),g=x("hasBrainData");return(s,e)=>(i(),b(N,null,[t("div",mt,[t("div",bt,[r(S,{"skill-name":"基礎"}),u(g)?(i(),k(S,{key:0,"skill-name":"腦波"})):O("",!0)]),t("div",_t,[r(S,{"skill-name":"身心"})]),t("div",vt,[r(S,{"skill-name":"認知"})])]),t("div",yt,"最近測得日期"+w(u(a).date),1)],64))}},xt=I(wt,[["__scopeId","data-v-1cf2fdbd"]]),kt="/%E8%85%A6%E6%B3%A2%E5%9C%96.png",Dt={},Vt={src:kt,style:{width:"100%"}};function Ct(_,a){return i(),b("img",Vt)}const $t=I(Dt,[["render",Ct]]),St={class:"mt-8"},Bt={__name:"trendChart",setup(_){const a=x("responsePsychology"),g=v(null);let s=null;const e=y(()=>a.value&&a.value.length>0),m=()=>!a.value||a.value.length===0?[]:Object.keys(a.value[0]).filter(n=>n!=="date"),p=()=>{if(!a.value||a.value.length===0)return[];const n=m(),c=[...a.value].sort((l,h)=>new Date(l.date)-new Date(h.date));return n.map((l,h)=>{const V=c.map(C=>[C.date,C[l]||0]),D=T[h%T.length];return{name:l,type:"line",data:V,smooth:!0,symbol:"circle",symbolSize:6,lineStyle:{width:2,color:D},itemStyle:{color:D}}})},o=()=>{g.value&&(s=F(g.value),d())},d=()=>{if(!s){console.log("Chart instance not initialized");return}if(!e.value){console.log("No Data"),s.clear(),s.setOption({title:{text:"No Data",left:"center",top:"middle",textStyle:{color:"#999",fontSize:20}}});return}const n=p(),c=m(),l={tooltip:{trigger:"axis",formatter:function(h){if(!h||h.length===0)return"";let D=`<strong>${h[0].axisValue}</strong><br/>`;return h.forEach(C=>{const{seriesName:U,value:q,color:G}=C,M=q[1];D+=`<span style="display: inline-block; width: 10px; height: 10px; background-color: ${G}; border-radius: 50%; margin-right: 5px;"></span>${U}: <strong>${M}</strong><br/>`}),D}},legend:{data:c,top:0,right:20},grid:{left:20,right:20,bottom:40,top:66},xAxis:{type:"category",boundaryGap:!1,axisLine:{lineStyle:{color:"#999"}},axisLabel:{color:"#666"},splitLine:{show:!0,lineStyle:{color:"#e5e5e5",type:"dashed"}}},yAxis:{type:"value",min:0,max:5,interval:1,axisLine:{show:!1},axisLabel:{color:"#666",fontSize:16},splitLine:{lineStyle:{color:"#e5e5e5",type:"dashed"}}},series:n};s.setOption(l,!0)};return A(a.value,()=>{s&&e.value&&d()},{deep:!0}),Q(()=>{J(()=>{o()});const n=()=>{s&&s.resize()};window.addEventListener("resize",n),W(()=>{s&&(s.dispose(),s=null),window.removeEventListener("resize",n)})}),(n,c)=>(i(),b("div",St,[c[0]||(c[0]=t("h3",null,"各向度趨勢分析",-1)),t("div",{ref_key:"chartContainer",ref:g,class:"chart-container"},null,512)]))}},It=I(Bt,[["__scopeId","data-v-96906b32"]]),Nt={class:"mt-8 position-relative"},Lt={key:0,class:"text-body-1 mb-2"},Ot={key:1,class:"text-body-1 mb-2"},Tt={class:"pl-6"},zt={__name:"recommendationPanel",setup(_){const a=x("responsePsychology"),g=x("allDates"),s=v(""),e=y(()=>{if(!s.value||!a.value)return null;const p=a.value.find(n=>n.date===s.value);if(!p)return null;const o=Object.entries(p).filter(([n])=>n!=="date"&&n!=="自動化").map(([,n])=>n);return o.length===0?null:o.reduce((n,c)=>n+c,0)/o.length}),m=y(()=>e.value===null?[]:e.value<3.6?["請檢視你的微目標(Process Goals)，專注於「今天能做到的事」，而非最終結果，能有效建立信心和掌控感。","練習傾聽身體的聲音與放鬆技巧，不僅是看見，還要感覺、聽見成功的技術動作，強化肌肉與心靈的連結。","運用有力量的自我對話，例如：「我只有現在」、「Nice」，在突發狀況下，中斷負面思維的循環。建立例行動作幫助自己從比賽結果轉向任務執行過程。"]:["充滿意義的生活，繼續保持自信跟積極的投入，也要記得休息與心理恢復唷！","已具備良好的情緒調節能力，賽前調整很有一套唷！","頭腦清楚，戰術明確，專注於致勝關鍵的行動！"]);return A(g,p=>{p.length>0&&(s.value=p[0])},{immediate:!0}),(p,o)=>(i(),b("div",Nt,[o[4]||(o[4]=t("h3",null,"心理指標建議",-1)),r(X,{modelValue:u(s),"onUpdate:modelValue":o[0]||(o[0]=d=>P(s)?s.value=d:null),items:u(g),label:"選擇查看日期",variant:"outlined",density:"compact","prepend-inner-icon":"mdi-calendar","max-width":"180",class:"right-up","hide-details":"",style:{top:"-1px"}},null,8,["modelValue","items"]),u(s)&&u(e)!==null?(i(),k(R,{key:0,prominent:"",class:"mt-6",style:L({backgroundColor:u(e)<3.6?"rgba(255, 235, 59, .3)":"rgba(76, 175, 80, .6)"})},{default:f(()=>[u(e)<3.6?(i(),b("p",Lt,[...o[1]||(o[1]=[t("strong",null,"建議改善方向：",-1)])])):(i(),b("p",Ot,[...o[2]||(o[2]=[t("strong",null,"保持優秀表現：",-1)])])),t("ul",Tt,[(i(!0),b(N,null,E(u(m),(d,n)=>(i(),b("li",{key:n,class:"mb-2"},w(d),1))),128))])]),_:1},8,["style"])):(i(),k(R,{key:1,type:"info",variant:"outlined",class:"text-center"},{default:f(()=>[...o[3]||(o[3]=[B(" 請選擇日期以查看建議資訊 ",-1)])]),_:1}))]))}},Rt={__name:"desc",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:["update:modelValue"],setup(_){const a=Z(_,"modelValue"),g=()=>{a.value=!1};return(s,e)=>(i(),k(rt,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=m=>a.value=m),"max-width":"1200"},{default:f(()=>[r(nt,null,{default:f(()=>[r(at,{class:"d-flex justify-space-between align-center bg-grey-lighten-3"},{default:f(()=>[e[1]||(e[1]=t("span",null,"運動心理技能說明",-1)),r(tt,{icon:"mdi-close",variant:"text",onClick:g})]),_:1}),r(ot,{class:"pa-2"},{default:f(()=>[r(et,{density:"comfortable"},{default:f(()=>[...e[2]||(e[2]=[t("tbody",null,[t("tr",{class:"bg-yellow-lighten-2"},[t("td",{colspan:"3",class:"pa-3 text-center font-weight-bold"},"基礎心理技能")]),t("tr",{class:"bg-yellow-lighten-4"},[t("td",{class:"text-center font-weight-bold",style:{width:"15%"}},"技能名稱"),t("td",{class:"text-center font-weight-bold",style:{width:"30%"}},"定義"),t("td",{class:"text-left font-weight-bold",style:{width:"55%"}},"內容")]),t("tr",null,[t("td",{class:"bg-yellow-lighten-4 text-center font-weight-bold",rowspan:"2"},"目標設定"),t("td",{class:"text-center",rowspan:"2"},"建立可以提供方向和動機的各種目標"),t("td",null,"1.我設定目標來幫助每天的表現")]),t("tr",null,[t("td",null,"2.我們的目標使我更有努力動力")]),t("tr",null,[t("td",{class:"bg-yellow-lighten-4 text-center font-weight-bold",rowspan:"2"},"自信心"),t("td",{class:"text-center",rowspan:"2"},"對於完成目標的把握程度"),t("td",null,"3.我相信我擁有可以達到個人目標的能力")]),t("tr",null,[t("td",null,"4.我對於自己的表現很有自信")]),t("tr",null,[t("td",{class:"bg-yellow-lighten-4 text-center font-weight-bold",rowspan:"2"},"承諾"),t("td",{class:"text-center",rowspan:"2"},"對於目標的渴望和強度"),t("td",null,"5.我願意嘗試其他各種的休閒活動來幫助運動目標")]),t("tr",null,[t("td",null,"6.當我在訓練中遇到困難時，我會盡努力改變表現")]),t("tr",{class:"bg-orange-lighten-2"},[t("td",{colspan:"3",class:"pa-3 text-center font-weight-bold"},"涉及控制身體覺醒的心理技巧")]),t("tr",{class:"bg-orange-lighten-4"},[t("td",{class:"text-center font-weight-bold",style:{width:"15%"}},"技能名稱"),t("td",{class:"text-center font-weight-bold",style:{width:"30%"}},"定義"),t("td",{class:"text-left font-weight-bold",style:{width:"55%"}},"內容")]),t("tr",null,[t("td",{class:"bg-orange-lighten-4 text-center font-weight-bold",rowspan:"2"},"壓力反應"),t("td",{class:"text-center",rowspan:"2"},"對身體所承受需求的生理反應"),t("td",null,"7.我覺得在比賽中，觀眾多會讓我感到緊張")]),t("tr",null,[t("td",null,"8.我在練習時的比賽表現比正式比賽時還要好")]),t("tr",null,[t("td",{class:"bg-orange-lighten-4 text-center font-weight-bold",rowspan:"2"},"害怕控制"),t("td",{class:"text-center",rowspan:"2"},"具備應對害怕或擔憂情境的能力"),t("td",null,"9.我怕輸")]),t("tr",null,[t("td",null,"10.我對運動事項的恐懼讓我覺得訓練是艱難的")]),t("tr",null,[t("td",{class:"bg-orange-lighten-4 text-center font-weight-bold",rowspan:"3"},"放鬆"),t("td",{class:"text-center",rowspan:"3"},"身體放鬆、降低肌肉緊繃、心率和焦慮的過程，幫助控制注意力"),t("td",null,"11.我覺得放鬆是容易的")]),t("tr",null,[t("td",null,"12.在比賽的關鍵時刻我可以有效的放鬆")]),t("tr",null,[t("td",null,"13.我可以在比賽中太過於放鬆時增加我的衝勁")]),t("tr",null,[t("td",{class:"bg-orange-lighten-4 text-center font-weight-bold"},"活化/激發"),t("td",{class:"text-center"},"在需要高度感知的情況下，能使身體和心理感官提升的過程"),t("td",null,"14.我可以輕易的激發自己到達我最佳表現所需的理想水準")]),t("tr",{class:"bg-purple-lighten-2"},[t("td",{colspan:"3",class:"pa-3 text-center font-weight-bold"},"認知技能")]),t("tr",{class:"bg-purple-lighten-4"},[t("td",{class:"text-center font-weight-bold",style:{width:"15%"}},"技能名稱"),t("td",{class:"text-center font-weight-bold",style:{width:"30%"}},"定義"),t("td",{class:"text-left font-weight-bold",style:{width:"55%"}},"內容")]),t("tr",null,[t("td",{class:"bg-purple-lighten-4 text-center font-weight-bold",rowspan:"2"},"專注"),t("td",{class:"text-center",rowspan:"2"},"個人將注意力引導和保持在特定線索上的能力"),t("td",null,"15.我在日常訓練當中會失去專注力")]),t("tr",null,[t("td",null,"16.要我到一個有效的策略，讓我在比賽中維持專注是困難的")]),t("tr",null,[t("td",{class:"bg-purple-lighten-4 text-center font-weight-bold",rowspan:"2"},"再專注"),t("td",{class:"text-center",rowspan:"2"},"是在突如其來的分心情況下，將注意力重新集中到任務上的能力"),t("td",null,"17.在訓練或比賽當中，我老是想著失誤")]),t("tr",null,[t("td",null,"18.當我比賽時，一個失誤經常導致更多的失誤")]),t("tr",null,[t("td",{class:"bg-purple-lighten-4 text-center font-weight-bold",rowspan:"2"},"意象"),t("td",{class:"text-center",rowspan:"2"},"運用影像和感官體驗不同情境的能力"),t("td",null,"19.我覺得要改變我腦海裡的影像是容易的")]),t("tr",null,[t("td",null,"20.我可以在腦海影像當中感覺到動作")]),t("tr",null,[t("td",{class:"bg-purple-lighten-4 text-center font-weight-bold",rowspan:"2"},"心智練習"),t("td",{class:"text-center",rowspan:"2"},"在不做實際動作的情況下，在腦中進行技術、比賽、戰術排練的能力"),t("td",null,"21.我會針對比賽的關鍵情境作心智/意象練習")]),t("tr",null,[t("td",null,"22.我用我最佳表現時的狀態在心中反覆演練")]),t("tr",null,[t("td",{class:"bg-purple-lighten-4 text-center font-weight-bold",rowspan:"2"},"競賽計畫"),t("td",{class:"text-center",rowspan:"2"},"反思和發展計劃的過程，這些計劃將在比賽前、比賽中和比賽後引導思想、情感和行為"),t("td",null,"23.我規劃一些習慣動作在比賽中執行")]),t("tr",null,[t("td",null,"24.我有準備提示小字眼(cue cord)這種計劃，讓我能夠在比賽中提醒自己")])],-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},jt={key:0,class:"flex pa-4"},Et={class:"box bg-white"},At={class:"box bg-white"},Xt={__name:"no1",setup(_){const a=v(""),g=v([]),s=v(""),e=v([]),m=v(!1),p=y(()=>e.value.length===0?{}:[...e.value].sort((l,h)=>new Date(h.date)-new Date(l.date))[0]||{}),o=y(()=>{if(a.value=="12948"||a.value=="user456")return!0}),d=async c=>{try{const l=await lt.getPsychologyIndicator(a.value,c);l.data?e.value=l.data:(console.error("API 回傳資料格式錯誤:",l),e.value=[])}catch(l){console.error("獲取數據失敗:",l),e.value=[]}},n=async c=>{const l=c.queryString;a.value=c.selectedUserId,await d(l),e.value.length>0?(s.value="",g.value=e.value.map(h=>h.date).sort((h,V)=>new Date(V)-new Date(h))):s.value=`${c.selectedUserName}在所選日期範圍內${c.sDate}~${c.eDate}無資料。`};return $("latestDatas",p),$("allDates",g),$("responsePsychology",e),$("hasBrainData",o),(c,l)=>(i(),b(N,null,[r(H,{onSearch:n},{icon:f(()=>[r(z,null,{default:f(()=>[...l[2]||(l[2]=[B("mdi-mother-heart",-1)])]),_:1})]),title:f(()=>[l[4]||(l[4]=B(" 心理監控",-1)),r(z,{class:"text-h6",onClick:l[0]||(l[0]=h=>m.value=!0),style:{cursor:"pointer"}},{default:f(()=>[...l[3]||(l[3]=[B("mdi-alert-circle-outline",-1)])]),_:1})]),dashboardTypes:f(()=>[...l[5]||(l[5]=[t("select",{class:"select"},[t("option",null,"疲勞監控與身體組成分析")],-1)])]),_:1}),u(e)?.length>0?(i(),b("section",jt,[r(it,null,{default:f(()=>[r(j,{cols:"6"},{default:f(()=>[t("div",Et,[l[6]||(l[6]=t("h3",null,"關鍵指標分數",-1)),r(xt),r(It)])]),_:1}),r(j,{cols:"6"},{default:f(()=>[t("div",At,[r(st),u(o)?(i(),k($t,{key:0})):O("",!0),r(zt)])]),_:1})]),_:1})])):(i(),k(Y,{key:1,message:u(s)},null,8,["message"])),r(Rt,{modelValue:u(m),"onUpdate:modelValue":l[1]||(l[1]=h=>P(m)?m.value=h:null)},null,8,["modelValue"])],64))}};export{Xt as default};
